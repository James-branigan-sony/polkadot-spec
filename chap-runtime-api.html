<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-chap-runtime-api">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v0.0.0-5547">
<title data-rh="true">Appendix C: Runtime API | Polkadot Protocol Specification</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://spec.polkadot.network/chap-runtime-api"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Appendix C: Runtime API | Polkadot Protocol Specification"><meta data-rh="true" name="description" content="Description of how to interact with the Runtime through its exported functions"><meta data-rh="true" property="og:description" content="Description of how to interact with the Runtime through its exported functions"><link data-rh="true" rel="icon" href="/img/polkadot-logo.png"><link data-rh="true" rel="canonical" href="https://spec.polkadot.network/chap-runtime-api"><link data-rh="true" rel="alternate" href="https://spec.polkadot.network/chap-runtime-api" hreflang="en"><link data-rh="true" rel="alternate" href="https://spec.polkadot.network/chap-runtime-api" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://59CYO0AR6V-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pseudocode@latest/build/pseudocode.min.css"><link rel="stylesheet" href="/assets/css/styles.e5183a90.css">
<script src="/assets/js/runtime~main.391e1c8f.js" defer="defer"></script>
<script src="/assets/js/main.b77e0a44.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/Polkadot_Logo_Horizontal_Pink-Black.svg" alt="Polkadot Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/Polkadot_Logo_Horizontal_Pink-Black.svg" alt="Polkadot Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/part-polkadot-host">Host</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/part-polkadot-runtime">Runtime</a><a href="https://github.com/w3f/polkadot-spec" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/id-polkadot-protocol">Protocol</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/part-polkadot-host">Host</a><button aria-label="Toggle the collapsible sidebar category &#x27;Host&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/chap-overview">1. Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/chap-state">2. States and Transitions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/chap-sync">3. Synchronization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/chap-networking">4. Networking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sect-block-production">5. Block Production</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sect-finality">6. Finality</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sect-lightclient">7. Light Clients</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/chapter-anv">8. Availability &amp; Validity</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/part-polkadot-runtime">Runtime</a><button aria-label="Toggle the collapsible sidebar category &#x27;Runtime&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/id-extrinsics">9. Extrinsics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/id-weights">10. Weights</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/id-consensus">11. Consensus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/sect-metadata">12. Metadata</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/Implementation Guide">Implementation Guide</a><button aria-label="Toggle the collapsible sidebar category &#x27;Implementation Guide&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/Implementation Guide/faq">FAQ</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/id-cryptography-encoding">Appendix A: Cryptography &amp; Encoding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/chap-host-api">Appendix B: Host API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/chap-runtime-api">Appendix C: Runtime API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/id-glossary">Glossary</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Appendix C: Runtime API</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Appendix C: Runtime API</h1></header><p>Description of how to interact with the Runtime through its exported functions</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="id-general-information">C.1. General Information<a href="#id-general-information" class="hash-link" aria-label="Direct link to C.1. General Information" title="Direct link to C.1. General Information">​</a></h2><p>The Polkadot Host assumes that at least the constants and functions described in this Chapter are implemented in the Runtime Wasm blob.</p><p>It should be noted that the API can change through the Runtime updates. Therefore, a host should check the API versions of each module returned in the <code>api</code> field by <code>Core_version</code> (<a href="/chap-runtime-api#defn-rt-core-version">Section C.4.1.</a>) after every Runtime upgrade and warn if an updated API is encountered and that this might require an update of the host.</p><p>This section describes all Runtime API functions alongside their arguments and the return values. The functions are organized into modules, with each being versioned independently.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-json-rpc-api">C.1.1. JSON-RPC API for external services<a href="#sect-json-rpc-api" class="hash-link" aria-label="Direct link to C.1.1. JSON-RPC API for external services" title="Direct link to C.1.1. JSON-RPC API for external services">​</a></h3><p>Polkadot Host implementers are encouraged to implement an API in order for external, third-party services to interact with the node. The <a href="https://github.com/w3f/PCPs/blob/master/PSPs/drafts/psp-6.md" target="_blank" rel="noopener noreferrer">JSON-RPC Interface for Polkadot Nodes</a> (PCP6) is a Polkadot Standard Proposal for such an API and makes it easier to integrate the node with existing tools available in the Polkadot ecosystem, such as <a href="https://polkadot.js.org/" target="_blank" rel="noopener noreferrer">polkadot.js.org</a>. The Runtime API has a few modules designed specifically for use in the official RPC API.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="id-runtime-constants">C.2. Runtime Constants<a href="#id-runtime-constants" class="hash-link" aria-label="Direct link to C.2. Runtime Constants" title="Direct link to C.2. Runtime Constants">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="id-__heap_base">C.2.1. <code>__heap_base</code><a href="#id-__heap_base" class="hash-link" aria-label="Direct link to id-__heap_base" title="Direct link to id-__heap_base">​</a></h3><p>This constant indicates the beginning of the heap in memory. The space below is reserved for the stack and the data section. For more details please refer to <a href="/chap-state#sect-memory-management">Section 2.6.3.1.</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="id-runtime-call-convention">C.3. Runtime Call Convention<a href="#id-runtime-call-convention" class="hash-link" aria-label="Direct link to C.3. Runtime Call Convention" title="Direct link to C.3. Runtime Call Convention">​</a></h2><h6 class="anchor anchorWithStickyNavbar_LWe7" id="defn-runtime-call-convention">Definition 228. Runtime API Call Convention<a href="#defn-runtime-call-convention" class="hash-link" aria-label="Direct link to Definition 228. Runtime API Call Convention" title="Direct link to Definition 228. Runtime API Call Convention">​</a></h6><div class="alert alert--definition"><h5></h5><div><p>The <strong>Runtime API Call Convention</strong> describes that all functions receive and return SCALE-encoded data and, as a result, have the following prototype signature:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">(func $generic_runtime_entry</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (param $ptr i32) (parm $len i32) (result i64))</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>where <code>ptr</code> points to the SCALE encoded tuple of the parameters passed to the function and <code>len</code> is the length of this data, while <code>result</code> is a pointer-size (Definition <a href="/chap-host-api#defn-runtime-pointer-size">Definition 216</a>) to the SCALE-encoded return data.</p></div></div><p>See <a href="/chap-state#sect-code-executor">Section 2.6.3.</a> for more information about the behavior of the Wasm Runtime. Also, note that any storage changes must be fork-aware (<a href="/chap-state#sect-managing-multiple-states">Section 2.4.5.</a>).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sect-runtime-core-module">C.4. Module Core<a href="#sect-runtime-core-module" class="hash-link" aria-label="Direct link to C.4. Module Core" title="Direct link to C.4. Module Core">​</a></h2><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>This section describes <strong>Version 3</strong> of this API. Please check <code>Core_version</code> (<a href="/chap-runtime-api#defn-rt-core-version">Section C.4.1.</a>) to ensure compatibility.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="defn-rt-core-version">C.4.1. <code>Core_version</code><a href="#defn-rt-core-version" class="hash-link" aria-label="Direct link to defn-rt-core-version" title="Direct link to defn-rt-core-version">​</a></h3><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>For newer Runtimes, the version identifiers can be read directly from the Wasm blob in the form of custom sections (<a href="/chap-state#sect-runtime-version-custom-section">Section 2.6.3.4.</a>). That method of retrieving this data should be preferred since it involves significantly less overhead.</p></div></div><p>Returns the version identifiers of the Runtime. This function can be used by the Polkadot Host implementation when it seems appropriate, such as for the JSON-RPC API as described in <a href="/chap-runtime-api#sect-json-rpc-api">Section C.1.1.</a>.</p><p><strong>Arguments</strong>  </p><ul><li>None</li></ul><p><strong>Return</strong>  </p><ul><li><p>A data structure of the following format:</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="tabl-rt-core-version">Table 7. Details of the version that the data type returns from the Runtime function.<a href="#tabl-rt-core-version" class="hash-link" aria-label="Direct link to Table 7. Details of the version that the data type returns from the Runtime function." title="Direct link to Table 7. Details of the version that the data type returns from the Runtime function.">​</a></h6><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>spec_name</code></td><td>String</td><td>Runtime identifier</td></tr><tr><td><code>impl_name</code></td><td>String</td><td>Name of the implementation (e.g. C++)</td></tr><tr><td><code>authoring_version</code></td><td>Unsigned 32-bit integer</td><td>Version of the authorship interface</td></tr><tr><td><code>spec_version</code></td><td>Unsigned 32-bit integer</td><td>Version of the Runtime specification</td></tr><tr><td><code>impl_version</code></td><td>Unsigned 32-bit integer</td><td>Version of the Runtime implementation</td></tr><tr><td><code>apis</code></td><td>ApiVersions (<a href="/chap-runtime-api#defn-rt-apisvec">Definition 229</a>)</td><td>List of supported APIs along with their version</td></tr><tr><td><code>transaction_version</code></td><td>Unsigned 32-bit integer</td><td>Version of the transaction format</td></tr><tr><td><code>state_version</code></td><td>Unsigned 8-bit integer</td><td>Version of the trie format</td></tr></tbody></table></li></ul><h6 class="anchor anchorWithStickyNavbar_LWe7" id="defn-rt-apisvec">Definition 229. ApiVersions<a href="#defn-rt-apisvec" class="hash-link" aria-label="Direct link to Definition 229. ApiVersions" title="Direct link to Definition 229. ApiVersions">​</a></h6><div class="alert alert--definition"><h5></h5><div><p><strong>ApiVersions</strong> is a specialized type for the (<a href="/chap-runtime-api#defn-rt-core-version">Section C.4.1.</a>) function entry. It represents an array of tuples, where the first value of the tuple is an array of 8-bytes containing the Blake2b hash of the API name. The second value of the tuple is the version number of the corresponding API.</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow><mi mathvariant="normal">A</mi><mi mathvariant="normal">p</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">V</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">r</mi><mi mathvariant="normal">s</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">n</mi><mi mathvariant="normal">s</mi></mrow><mo>:</mo><mo>=</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo stretchy="false">(</mo><msub><mi>T</mi><mn>0</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>T</mi><mi>n</mi></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>T</mi><mo>:</mo><mo>=</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo stretchy="false">(</mo><mo stretchy="false">(</mo><msub><mi>b</mi><mn>0</mn></msub><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><msub><mi>b</mi><mn>7</mn></msub><mo stretchy="false">)</mo><mo separator="true">,</mo><mrow><mi mathvariant="normal">U</mi><mi mathvariant="normal">I</mi><mi mathvariant="normal">N</mi><mi mathvariant="normal">T</mi><mn>32</mn></mrow><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned} \mathrm{ApiVersions} :=&amp; (T_0, \ldots, T_n) \\ T :=&amp; ((b_0, \ldots, b_7), \mathrm{UINT32}) \end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:3em;vertical-align:-1.25em"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em"><span style="top:-3.91em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathrm">ApiVersions</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">:=</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">T</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">:=</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.75em"><span style="top:-3.91em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-2.41em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"></span><span class="mopen">((</span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">7</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathrm">UINT32</span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.25em"><span></span></span></span></span></span></span></span></span></span></span></span></div></div></div><p>Requires <code>Core_initialize_block</code> to be called beforehand.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rte-core-execute-block">C.4.2. <code>Core_execute_block</code><a href="#sect-rte-core-execute-block" class="hash-link" aria-label="Direct link to sect-rte-core-execute-block" title="Direct link to sect-rte-core-execute-block">​</a></h3><p>This function executes a full block and all its extrinsics and updates the state accordingly. Additionally, some integrity checks are executed, such as validating if the parent hash is correct and that the transaction root represents the transactions. Internally, this function performs an operation similar to the process described in <a href="/sect-block-production#algo-build-block">Build-Block</a>, by calling <code>Core_initialize_block</code>,<code>BlockBuilder_apply_extrinsics</code> and <code>BlockBuilder_finalize_block</code>.</p><p>This function should be called when a fully complete block is available that is not actively being built on, such as blocks received from other peers. State changes resulting from calling this function are usually meant to persist when the block is imported successfully.</p><p>Additionally, the seal digest in the block header, as described in <a href="/chap-state#defn-digest">Definition 11</a>, must be removed by the Polkadot host before submitting the block.</p><p><strong>Arguments</strong>  </p><ul><li>A block represented as a tuple consisting of a block header, as described in <a href="/chap-state#defn-block-header">Definition 10</a>, and the block body, as described in <a href="/chap-state#defn-block-body">Definition 13</a>.</li></ul><p><strong>Return</strong>  </p><ul><li>None.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rte-core-initialize-block">C.4.3. <code>Core_initialize_block</code><a href="#sect-rte-core-initialize-block" class="hash-link" aria-label="Direct link to sect-rte-core-initialize-block" title="Direct link to sect-rte-core-initialize-block">​</a></h3><p>Sets up the environment required for building a new block as described in <a href="/sect-block-production#algo-build-block">Build-Block</a>.</p><p><strong>Arguments</strong>  </p><ul><li>The header of the new block as defined in <a href="/chap-state#defn-block-header">Definition 10</a>. The values <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>r</mi></msub></mrow><annotation encoding="application/x-tex">{H}_{{r}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em">H</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">r</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>e</mi></msub></mrow><annotation encoding="application/x-tex">{H}_{{e}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em">H</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> and <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">{H}_{{d}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em">H</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> are left empty.</li></ul><p><strong>Return</strong>  </p><ul><li>None.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sect-runtime-metadata-module">C.5. Module Metadata<a href="#sect-runtime-metadata-module" class="hash-link" aria-label="Direct link to C.5. Module Metadata" title="Direct link to C.5. Module Metadata">​</a></h2><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>This section describes <strong>Version 1</strong> of this API. Please check <code>Core_version</code> (<a href="/chap-runtime-api#defn-rt-core-version">Section C.4.1.</a>) to ensure compatibility.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rte-metadata-metadata">C.5.1. <code>Metadata_metadata</code><a href="#sect-rte-metadata-metadata" class="hash-link" aria-label="Direct link to sect-rte-metadata-metadata" title="Direct link to sect-rte-metadata-metadata">​</a></h3><p>Returns native Runtime metadata in an opaque form. This function can be used by the Polkadot Host implementation when it seems appropriate, such as for the JSON-RPC API as described in <a href="/chap-runtime-api#sect-json-rpc-api">Section C.1.1.</a>, and returns all the information necessary to build valid transactions.</p><p><strong>Arguments</strong>  </p><ul><li>None.</li></ul><p><strong>Return</strong>  </p><ul><li>The scale-encoded (<a href="/id-cryptography-encoding#sect-scale-codec">Section A.2.2.</a>) runtime metadata as described in <a href="/sect-metadata">Chapter 12</a>.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rte-metadata-metadata-at-version">C.5.2. <code>Metadata_metadata_at_version</code><a href="#sect-rte-metadata-metadata-at-version" class="hash-link" aria-label="Direct link to sect-rte-metadata-metadata-at-version" title="Direct link to sect-rte-metadata-metadata-at-version">​</a></h3><p>Returns native Runtime metadata in an opaque form at a particular version.</p><p><strong>Arguments</strong>  </p><ul><li>Metadata version represented by an unsigned 32-bit integer.</li></ul><p><strong>Return</strong>  </p><ul><li>The scale-encoded (<a href="/id-cryptography-encoding#sect-scale-codec">Section A.2.2.</a>) runtime metadata as described in <a href="/sect-metadata">Chapter 12</a> at the particular version.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rte-metadata-metadata-versions">C.5.3. <code>Metadata_metadata_versions</code><a href="#sect-rte-metadata-metadata-versions" class="hash-link" aria-label="Direct link to sect-rte-metadata-metadata-versions" title="Direct link to sect-rte-metadata-metadata-versions">​</a></h3><p>Returns supported metadata versions.</p><p><strong>Arguments</strong>  </p><ul><li>None.</li></ul><p><strong>Return</strong>  </p><ul><li>A vector of supported metadata versions of type <code>vec&lt;u32&gt;</code>.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sect-runtime-blockbuilder-module">C.6. Module BlockBuilder<a href="#sect-runtime-blockbuilder-module" class="hash-link" aria-label="Direct link to C.6. Module BlockBuilder" title="Direct link to C.6. Module BlockBuilder">​</a></h2><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>This section describes <strong>Version 4</strong> of this API. Please check <code>Core_version</code> (<a href="/chap-runtime-api#defn-rt-core-version">Section C.4.1.</a>) to ensure compatibility.</p></div></div><p>All calls in this module require <code>Core_initialize_block</code> (<a href="/chap-runtime-api#sect-rte-core-initialize-block">Section C.4.3.</a>) to be called beforehand.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rte-apply-extrinsic">C.6.1. <code>BlockBuilder_apply_extrinsic</code><a href="#sect-rte-apply-extrinsic" class="hash-link" aria-label="Direct link to sect-rte-apply-extrinsic" title="Direct link to sect-rte-apply-extrinsic">​</a></h3><p>Apply the extrinsic outside of the block execution function. This does not attempt to validate anything regarding the block, but it builds a list of transaction hashes.</p><p><strong>Arguments</strong>  </p><ul><li>A byte array of varying sizes containing the opaque extrinsic.</li></ul><p><strong>Return</strong>  </p><ul><li>Returns the varying datatype <em>ApplyExtrinsicResult</em> as defined in <a href="/chap-runtime-api#defn-rte-apply-extrinsic-result">Definition 230</a>. This structure lets the block builder know whether an extrinsic should be included in the block or rejected.</li></ul><h6 class="anchor anchorWithStickyNavbar_LWe7" id="defn-rte-apply-extrinsic-result">Definition 230. ApplyExtrinsicResult<a href="#defn-rte-apply-extrinsic-result" class="hash-link" aria-label="Direct link to Definition 230. ApplyExtrinsicResult" title="Direct link to Definition 230. ApplyExtrinsicResult">​</a></h6><div class="alert alert--definition"><h5></h5><div><p><strong>ApplyExtrinsicResult</strong> is a varying data type as defined in <a href="/id-cryptography-encoding#defn-result-type">Definition 201</a>. This structure can contain multiple nested structures, indicating either module dispatch outcomes or transaction invalidity errors.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="tabl-rte-apply-extrinsic-result">Table 8. Possible values of varying data type <em>ApplyExtrinsicResult</em>.<a href="#tabl-rte-apply-extrinsic-result" class="hash-link" aria-label="Direct link to tabl-rte-apply-extrinsic-result" title="Direct link to tabl-rte-apply-extrinsic-result">​</a></h6><table><thead><tr><th>Id</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>0</td><td>Outcome of dispatching the extrinsic.</td><td><em>DispatchOutcome</em> (<a href="/chap-runtime-api#defn-rte-dispatch-outcome">Definition 231</a>)</td></tr><tr><td>1</td><td>Possible errors while checking the validity of a transaction.</td><td><em>TransactionValidityError</em> (<a href="/chap-runtime-api#defn-rte-transaction-validity-error">Definition 234</a>)</td></tr></tbody></table></div></div><div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>As long as a <em>DispatchOutcome</em> (<a href="/chap-runtime-api#defn-rte-dispatch-outcome">Definition 231</a>) is returned, the extrinsic is always included in the block, even if the outcome is a dispatch error. Dispatch errors do not invalidate the block and all state changes are persisted.</p></div></div><h6 class="anchor anchorWithStickyNavbar_LWe7" id="defn-rte-dispatch-outcome">Definition 231. DispatchOutcome<a href="#defn-rte-dispatch-outcome" class="hash-link" aria-label="Direct link to Definition 231. DispatchOutcome" title="Direct link to Definition 231. DispatchOutcome">​</a></h6><div class="alert alert--definition"><h5></h5><div><p><strong>DispatchOutcome</strong> is the varying data type as defined in <a href="/id-cryptography-encoding#defn-result-type">Definition 201</a>.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="tabl-rte-dispatch-outcome">Table 9. Possible values of varying data type <em>DispatchOutcome</em>.<a href="#tabl-rte-dispatch-outcome" class="hash-link" aria-label="Direct link to tabl-rte-dispatch-outcome" title="Direct link to tabl-rte-dispatch-outcome">​</a></h6><table><thead><tr><th><strong>Id</strong></th><th><strong>Description</strong></th><th><strong>Type</strong></th></tr></thead><tbody><tr><td>0</td><td>Extrinsic is valid and was submitted successfully.</td><td>None</td></tr><tr><td>1</td><td>Possible errors while dispatching the extrinsic.</td><td><em>DispatchError</em> (<a href="/chap-runtime-api#defn-rte-dispatch-error">Definition 232</a>)</td></tr></tbody></table></div></div><h6 class="anchor anchorWithStickyNavbar_LWe7" id="defn-rte-dispatch-error">Definition 232. DispatchError<a href="#defn-rte-dispatch-error" class="hash-link" aria-label="Direct link to Definition 232. DispatchError" title="Direct link to Definition 232. DispatchError">​</a></h6><div class="alert alert--definition"><h5></h5><div><p><strong>DispatchError</strong> is a varying data type as defined in <a href="/id-cryptography-encoding#defn-varrying-data-type">Definition 198</a>. Indicates various reasons why a dispatch call failed.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="tabl-rte-dispatch-error">Table 10. Possible values of varying data type <em>DispatchError</em>.<a href="#tabl-rte-dispatch-error" class="hash-link" aria-label="Direct link to tabl-rte-dispatch-error" title="Direct link to tabl-rte-dispatch-error">​</a></h6><table><thead><tr><th><strong>Id</strong></th><th><strong>Description</strong></th><th><strong>Type</strong></th></tr></thead><tbody><tr><td>0</td><td>Some unknown error occurred.</td><td>SCALE encoded byte array containing a valid UTF-8 sequence.</td></tr><tr><td>1</td><td>Failed to look up some data.</td><td>None</td></tr><tr><td>2</td><td>A bad origin.</td><td>None</td></tr><tr><td>3</td><td>A custom error in a module.</td><td><em>CustomModuleError</em> (<a href="/chap-runtime-api#defn-rte-custom-module-error">Definition 233</a>)</td></tr></tbody></table></div></div><h6 class="anchor anchorWithStickyNavbar_LWe7" id="defn-rte-custom-module-error">Definition 233. CustomModuleError<a href="#defn-rte-custom-module-error" class="hash-link" aria-label="Direct link to Definition 233. CustomModuleError" title="Direct link to Definition 233. CustomModuleError">​</a></h6><div class="alert alert--definition"><h5></h5><div><p><strong>CustomModuleError</strong> is a tuple appended after a possible error in as defined in <a href="/chap-runtime-api#defn-rte-dispatch-error">Definition 232</a>.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="tabl-rte-custom-module-error">Table 11. Possible values of varying data type <em>CustomModuleError</em>.<a href="#tabl-rte-custom-module-error" class="hash-link" aria-label="Direct link to tabl-rte-custom-module-error" title="Direct link to tabl-rte-custom-module-error">​</a></h6><table><thead><tr><th>Name</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>Index</td><td>Module index matching the metadata module index.</td><td>Unsigned 8-bit integer.</td></tr><tr><td>Error</td><td>Module-specific error value.</td><td>Unsigned 8-bit integer</td></tr><tr><td>Message</td><td>Optional error message.</td><td>Varying data type <em>Option</em> (<a href="/id-cryptography-encoding#defn-option-type">Definition 200</a>). The optional value is a SCALE-encoded byte array containing a valid UTF-8 sequence.</td></tr></tbody></table></div></div><div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Whenever <em>TransactionValidityError</em> (<a href="/chap-runtime-api#defn-rte-transaction-validity-error">Definition 234</a>) is returned, the contained error type will indicate whether an extrinsic should be outright rejected or requested for a later block. This behavior is clarified further in <a href="/chap-runtime-api#defn-rte-invalid-transaction">Definition 235</a> and respectively <a href="/chap-runtime-api#defn-rte-unknown-transaction">Definition 236</a>.</p></div></div><h6 class="anchor anchorWithStickyNavbar_LWe7" id="defn-rte-transaction-validity-error">Definition 234. TransactionValidityError<a href="#defn-rte-transaction-validity-error" class="hash-link" aria-label="Direct link to Definition 234. TransactionValidityError" title="Direct link to Definition 234. TransactionValidityError">​</a></h6><div class="alert alert--definition"><h5></h5><div><p><strong>TransactionValidityError</strong> is a varying data type as defined in <a href="/id-cryptography-encoding#defn-varrying-data-type">Definition 198</a>. It indicates possible errors that can occur while checking the validity of a transaction.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="tabl-rte-transaction-validity-error">Table 12. Possible values of varying data type <em>TransactionValidityError</em>.<a href="#tabl-rte-transaction-validity-error" class="hash-link" aria-label="Direct link to tabl-rte-transaction-validity-error" title="Direct link to tabl-rte-transaction-validity-error">​</a></h6><table><thead><tr><th><strong>Id</strong></th><th><strong>Description</strong></th><th><strong>Type</strong></th></tr></thead><tbody><tr><td>0</td><td>Transaction is invalid.</td><td><em>InvalidTransaction</em> (<a href="/chap-runtime-api#defn-rte-invalid-transaction">Definition 235</a>)</td></tr><tr><td>1</td><td>Transaction validity can’t be determined.</td><td><em>UnknownTransaction</em> (<a href="/chap-runtime-api#defn-rte-unknown-transaction">Definition 236</a>)</td></tr></tbody></table></div></div><h6 class="anchor anchorWithStickyNavbar_LWe7" id="defn-rte-invalid-transaction">Definition 235. InvalidTransaction<a href="#defn-rte-invalid-transaction" class="hash-link" aria-label="Direct link to Definition 235. InvalidTransaction" title="Direct link to Definition 235. InvalidTransaction">​</a></h6><div class="alert alert--definition"><h5></h5><div><p><strong>InvalidTransaction</strong> is a varying data type as defined in <a href="/id-cryptography-encoding#defn-varrying-data-type">Definition 198</a> and specifies the invalidity of the transaction in more detail.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="tabl-rte-invalid-transaction">Table 13. Possible values of varying data type <em>InvalidTransaction</em>.<a href="#tabl-rte-invalid-transaction" class="hash-link" aria-label="Direct link to tabl-rte-invalid-transaction" title="Direct link to tabl-rte-invalid-transaction">​</a></h6><table><thead><tr><th><strong>Id</strong></th><th><strong>Description</strong></th><th><strong>Type</strong></th><th><strong>Reject</strong></th></tr></thead><tbody><tr><td>0</td><td>Call of the transaction is not expected.</td><td>None</td><td>Yes</td></tr><tr><td>1</td><td>General error to do with the inability to pay some fees (e.g., account balance too low).</td><td>None</td><td>Yes</td></tr><tr><td>2</td><td>General error to do with the transaction not yet being valid (e.g., nonce too high).</td><td>None</td><td>No</td></tr><tr><td>3</td><td>General error to do with the transaction being outdated (e.g., nonce too low).</td><td>None</td><td>Yes</td></tr><tr><td>4</td><td>General error to do with the transactions’ proof (e.g., signature)</td><td>None</td><td>Yes</td></tr><tr><td>5</td><td>The transaction birth block is ancient.</td><td>None</td><td>Yes</td></tr><tr><td>6</td><td>The transaction would exhaust the resources of the current block.</td><td>None</td><td>No</td></tr><tr><td>7</td><td>Some unknown error occurred.</td><td>Unsigned 8-bit integer</td><td>Yes</td></tr><tr><td>8</td><td>An extrinsic with mandatory dispatch resulted in an error.</td><td>None</td><td>Yes</td></tr><tr><td>9</td><td>A transaction with a mandatory dispatch (only inherents are allowed to have mandatory dispatch).</td><td>None</td><td>Yes</td></tr></tbody></table></div></div><h6 class="anchor anchorWithStickyNavbar_LWe7" id="defn-rte-unknown-transaction">Definition 236. UnknownTransaction<a href="#defn-rte-unknown-transaction" class="hash-link" aria-label="Direct link to Definition 236. UnknownTransaction" title="Direct link to Definition 236. UnknownTransaction">​</a></h6><div class="alert alert--definition"><h5></h5><div><p><strong>UnknownTransaction</strong> is a varying data type as defined in <a href="/id-cryptography-encoding#defn-varrying-data-type">Definition 198</a> and specifies the unknown invalidity of the transaction in more detail.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="tabl-rte-unknown-transaction">Table 14. Possible values of varying data type <em>UnknownTransaction</em>.<a href="#tabl-rte-unknown-transaction" class="hash-link" aria-label="Direct link to tabl-rte-unknown-transaction" title="Direct link to tabl-rte-unknown-transaction">​</a></h6><table><thead><tr><th><strong>Id</strong></th><th><strong>Description</strong></th><th><strong>Type</strong></th><th><strong>Reject</strong></th></tr></thead><tbody><tr><td>0</td><td>Could not look up some information that is required to validate the transaction.</td><td>None</td><td>Yes</td></tr><tr><td>1</td><td>No validator found for the given unsigned transaction.</td><td>None</td><td>Yes</td></tr><tr><td>2</td><td>Any other custom unknown validity that is not covered by this type.</td><td>Unsigned 8-bit integer</td><td>Yes</td></tr></tbody></table></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="defn-rt-blockbuilder-finalize-block">C.6.2. <code>BlockBuilder_finalize_block</code><a href="#defn-rt-blockbuilder-finalize-block" class="hash-link" aria-label="Direct link to defn-rt-blockbuilder-finalize-block" title="Direct link to defn-rt-blockbuilder-finalize-block">​</a></h3><p>Finalize the block - it is up to the caller to ensure that all header fields are valid except for the state root. State changes resulting from calling this function are usually meant to persist upon successful execution of the function and appending of the block to the chain.</p><p><strong>Arguments</strong>  </p><ul><li>None.</li></ul><p><strong>Return</strong>  </p><ul><li>The header of the new block as defined in <a href="/chap-state#defn-block-header">Definition 10</a>.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="defn-rt-builder-inherent-extrinsics">C.6.3. <code>BlockBuilder_inherent_extrinisics</code>:<a href="#defn-rt-builder-inherent-extrinsics" class="hash-link" aria-label="Direct link to defn-rt-builder-inherent-extrinsics" title="Direct link to defn-rt-builder-inherent-extrinsics">​</a></h3><p>Generates the inherent extrinsics, which are explained in more detail in <a href="/chap-state#sect-inherents">Section 2.3.3.</a>. This function takes a SCALE-encoded hash table as defined in <a href="/id-cryptography-encoding#defn-scale-list">Definition 202</a> and returns an array of extrinsics. The Polkadot Host must submit each of those to the <code>BlockBuilder_apply_extrinsic</code>, described in <a href="/chap-runtime-api#sect-rte-apply-extrinsic">Section C.6.1.</a>. This procedure is outlined in <a href="/sect-block-production#algo-build-block">Build-Block</a>.</p><p><strong>Arguments</strong>  </p><ul><li>A Inherents-Data structure as defined in <a href="/chap-state#defn-inherent-data">Definition 15</a>.</li></ul><p><strong>Return</strong>  </p><ul><li>A byte array of varying sizes containing extrinisics. Each extrinsic is a byte array of varying size.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="id-blockbuilder_check_inherents">C.6.4. <code>BlockBuilder_check_inherents</code><a href="#id-blockbuilder_check_inherents" class="hash-link" aria-label="Direct link to id-blockbuilder_check_inherents" title="Direct link to id-blockbuilder_check_inherents">​</a></h3><p>Checks whether the provided inherent is valid. This function can be used by the Polkadot Host when deemed appropriate, e.g., during the block-building process.</p><p><strong>Arguments</strong>  </p><ul><li><p>A block represented as a tuple consisting of a block header as described in <a href="/chap-state#defn-block-header">Definition 10</a> and the block body as described in <a href="/chap-state#defn-block-body">Definition 13</a>.</p></li><li><p>A Inherents-Data structure as defined in <a href="/chap-state#defn-inherent-data">Definition 15</a>.</p></li></ul><p><strong>Return</strong>  </p><ul><li><p>A data structure of the following format:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">(</mo><mi>o</mi><mo separator="true">,</mo><mrow><msub><mi>f</mi><mi>e</mi></msub><mo separator="true">,</mo></mrow><mi>e</mi><mo fence="true">)</mo></mrow><annotation encoding="application/x-tex">{\left({o},{{f}_{{e}},}{e}\right)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em">(</span><span class="mord"><span class="mord mathnormal">o</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em">f</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">e</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span></span><span class="mord"><span class="mord mathnormal">e</span></span><span class="mclose delimcenter" style="top:0em">)</span></span></span></span></span></span></span></div><p><strong>where</strong>  </p><ul><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>o</mi></mrow><annotation encoding="application/x-tex">{o}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord"><span class="mord mathnormal">o</span></span></span></span></span></span> is a boolean indicating whether the check was successful.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mi>e</mi></msub></mrow><annotation encoding="application/x-tex">{f_e}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">e</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span></span> is a boolean indicating whether a fatal error was encountered.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">{e}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord"><span class="mord mathnormal">e</span></span></span></span></span></span> is a Inherents-Data structure as defined in <a href="/chap-state#defn-inherent-data">Definition 15</a> containing any errors created by this Runtime function.</p></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sect-runtime-txqueue-module">C.7. Module TaggedTransactionQueue<a href="#sect-runtime-txqueue-module" class="hash-link" aria-label="Direct link to C.7. Module TaggedTransactionQueue" title="Direct link to C.7. Module TaggedTransactionQueue">​</a></h2><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>This section describes <strong>Version 2</strong> of this API. Please check <code>Core_version</code> (<a href="/chap-runtime-api#defn-rt-core-version">Section C.4.1.</a>) to ensure compatibility.</p></div></div><p>All calls in this module require <code>Core_initialize_block</code> (<a href="/chap-runtime-api#sect-rte-core-initialize-block">Section C.4.3.</a>) to be called beforehand.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rte-validate-transaction">C.7.1. <code>TaggedTransactionQueue_validate_transaction</code><a href="#sect-rte-validate-transaction" class="hash-link" aria-label="Direct link to sect-rte-validate-transaction" title="Direct link to sect-rte-validate-transaction">​</a></h3><p>This entry is invoked against extrinsics submitted through a transaction network message (<a href="/chap-networking#sect-msg-transactions">Section 4.8.6.</a>) or by an off-chain worker through the Host API (<a href="/chap-host-api#sect-ext-offchain-submit-transaction">Section B.6.2.</a>).</p><p>It indicates if the submitted blob represents a valid extrinsics, the order in which it should be applied and if it should be gossiped to other peers. Furthermore, this function gets called internally when executing blocks with the runtime function as described in <a href="/chap-runtime-api#sect-rte-core-execute-block">Section C.4.2.</a>.</p><p><strong>Arguments</strong>  </p><ul><li><p>The source of the transaction as defined in <a href="/chap-runtime-api#defn-transaction-source">Definition 237</a>.</p></li><li><p>A byte array that contains the transaction.</p></li><li><p>The hash of the parent of the block that the transaction is included in. </p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="defn-transaction-source">Definition 237. TransactionSource<a href="#defn-transaction-source" class="hash-link" aria-label="Direct link to Definition 237. TransactionSource" title="Direct link to Definition 237. TransactionSource">​</a></h6><div class="alert alert--definition"><h5></h5><div><p>  <strong>TransactionSource</strong> is an enum describing the source of a transaction and can have one of the following values:</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="tabl-rte-transaction-source">Table 15. The <em>TransactionSource</em> enum<a href="#tabl-rte-transaction-source" class="hash-link" aria-label="Direct link to tabl-rte-transaction-source" title="Direct link to tabl-rte-transaction-source">​</a></h6><table><thead><tr><th>Id</th><th>Name</th><th>Description</th></tr></thead><tbody><tr><td>0</td><td><em>InBlock</em></td><td>Transaction is already included in a block.</td></tr><tr><td>1</td><td><em>Local</em></td><td>Transaction is coming from a local source, e.g. off-chain worker.</td></tr><tr><td>2</td><td><em>External</em></td><td>Transaction has been received externally, e.g. over the network.</td></tr></tbody></table></div></div></li></ul><p><strong>Return</strong>  </p><ul><li><p>This function returns a <em>Result</em> as defined in <a href="/id-cryptography-encoding#defn-result-type">Definition 201</a> which contains the type <em>ValidTransaction</em> as defined in <a href="/chap-runtime-api#defn-valid-transaction">Definition 238</a> on success and the type <em>TransactionValidityError</em> as defined in <a href="/chap-runtime-api#defn-rte-transaction-validity-error">Definition 234</a> on failure.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="defn-valid-transaction">Definition 238. ValidTransaction<a href="#defn-valid-transaction" class="hash-link" aria-label="Direct link to Definition 238. ValidTransaction" title="Direct link to Definition 238. ValidTransaction">​</a></h6><div class="alert alert--definition"><h5></h5><div><p>  <strong>ValidTransaction</strong> is a tuple that contains information concerning a valid transaction.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="tabl-rte-valid-transaction">Table 16. The tuple provided by in the case the transaction is judged to be valid.<a href="#tabl-rte-valid-transaction" class="hash-link" aria-label="Direct link to Table 16. The tuple provided by in the case the transaction is judged to be valid." title="Direct link to Table 16. The tuple provided by in the case the transaction is judged to be valid.">​</a></h6><table><thead><tr><th>Name</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td><em>Priority</em></td><td>Determines the ordering of two transactions that have all their dependencies (required tags) are satisfied.</td><td>Unsigned 64-bit integer</td></tr><tr><td><em>Requires</em></td><td>List of tags specifying extrinsics which should be applied before the current extrinsics can be applied.</td><td>Array containing inner arrays</td></tr><tr><td><em>Provides</em></td><td>Informs Runtime of the extrinsics depending on the tags in the list that can be applied after current extrinsics are being applied. Describes the minimum number of blocks for the validity to be correct.</td><td>Array containing inner arrays</td></tr><tr><td><em>Longevity</em></td><td>After this period, the transaction should be removed from the pool or revalidated.</td><td>Unsigned 64-bit integer</td></tr><tr><td><em>Propagate</em></td><td>A flag indicating if the transaction should be gossiped to other peers.</td><td>Boolean</td></tr></tbody></table></div></div></li></ul><p>:::</p><div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>If <em>Propagate</em> is set to <code>false</code> the transaction will still be considered for inclusion in blocks that are authored on the current node, but should not be gossiped to other peers.</p></div></div><div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>If this function gets called by the Polkadot Host in order to validate a transaction received from peers, the Polkadot Host disregards and rewinds state changes resulting in such a call.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sect-runtime-offchainapi-module">C.8. Module OffchainWorkerApi<a href="#sect-runtime-offchainapi-module" class="hash-link" aria-label="Direct link to C.8. Module OffchainWorkerApi" title="Direct link to C.8. Module OffchainWorkerApi">​</a></h2><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>This section describes <strong>Version 2</strong> of this API. Please check <code>Core_version</code> (<a href="/chap-runtime-api#defn-rt-core-version">Section C.4.1.</a>) to ensure compatibility.</p></div></div><p>Does not require <code>Core_initialize_block</code> (<a href="/chap-runtime-api#sect-rte-core-initialize-block">Section C.4.3.</a>) to be called beforehand.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="id-offchainworkerapi_offchain_worker">C.8.1. <code>OffchainWorkerApi_offchain_worker</code><a href="#id-offchainworkerapi_offchain_worker" class="hash-link" aria-label="Direct link to id-offchainworkerapi_offchain_worker" title="Direct link to id-offchainworkerapi_offchain_worker">​</a></h3><p>Starts an off-chain worker and generates extrinsics. <!-- -->[<!-- -->To do: when is this called?<!-- -->]</p><p><strong>Arguments</strong>  </p><ul><li>The block header as defined in <a href="/chap-state#defn-block-header">Definition 10</a>.</li></ul><p><strong>Return</strong>  </p><ul><li>None.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sect-anv-runtime-api">C.9. Module ParachainHost<a href="#sect-anv-runtime-api" class="hash-link" aria-label="Direct link to C.9. Module ParachainHost" title="Direct link to C.9. Module ParachainHost">​</a></h2><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>This section describes <strong>Version 1</strong> of this API. Please check <code>Core_version</code> (<a href="/chap-runtime-api#defn-rt-core-version">Section C.4.1.</a>) to ensure compatibility.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rt-api-validators">C.9.1. <code>ParachainHost_validators</code><a href="#sect-rt-api-validators" class="hash-link" aria-label="Direct link to sect-rt-api-validators" title="Direct link to sect-rt-api-validators">​</a></h3><p>Returns the validator set at the current state. The specified validators are responsible for backing parachains for the current state.</p><p><strong>Arguments</strong>  </p><ul><li>None.</li></ul><p><strong>Return</strong>  </p><ul><li>An array of public keys representing the validators.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rt-api-validator-groups">C.9.2. <code>ParachainHost_validator_groups</code><a href="#sect-rt-api-validator-groups" class="hash-link" aria-label="Direct link to sect-rt-api-validator-groups" title="Direct link to sect-rt-api-validator-groups">​</a></h3><p>Returns the validator groups (<a href="/chapter-anv#defn-validator-groups">Definition 146</a>) used during the current session. The validators in the groups are referred to by the validator set Id (<a href="/sect-finality#defn-authority-set-id">Definition 78</a>).</p><p><strong>Arguments</strong>  </p><ul><li>None</li></ul><p><strong>Return</strong>  </p><ul><li><p>An array of tuples, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">{T}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">T</span></span></span></span></span></span>, of the following format:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>T</mi><mo>=</mo><mrow><mo fence="true">(</mo><mi>I</mi><mo separator="true">,</mo><mi>G</mi><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">{T}={\left({I},{G}\right)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">T</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em">I</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">G</span></span><span class="mclose delimcenter" style="top:0em">)</span></span></span></span></span></span></span></div><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>I</mi><mo>=</mo><mrow><mo fence="true">(</mo><msub><mi>v</mi><mi>n</mi></msub><mo separator="true">,</mo><mo>…</mo><msub><mi>v</mi><mi>m</mi></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">{I}={\left({v}_{{n}},…{v}_{{m}}\right)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em">I</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em">(</span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">v</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">v</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em">)</span></span></span></span></span></span></span></div><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>G</mi><mo>=</mo><mrow><mo fence="true">(</mo><msub><mi>B</mi><mi>s</mi></msub><mo separator="true">,</mo><mi>f</mi><mo separator="true">,</mo><msub><mi>B</mi><mi>c</mi></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">{G}={\left({B}_{{s}},{f},{B}_{{c}}\right)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord"><span class="mord mathnormal">G</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em">(</span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em">f</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em">)</span></span></span></span></span></span></span></div><p><strong>where</strong>  </p><ul><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>I</mi></mrow><annotation encoding="application/x-tex">{I}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em">I</span></span></span></span></span></span> is an array of the validator set Ids (<a href="/sect-finality#defn-authority-set-id">Definition 78</a>).</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">{B}_{{s}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> indicates the block number where the session started.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">{f}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em">f</span></span></span></span></span></span> indicates how often groups rotate. 0 means never.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mi>c</mi></msub></mrow><annotation encoding="application/x-tex">{B}_{{c}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> indicates the current block number.</p></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rt-api-availability-cores">C.9.3. <code>ParachainHost_availability_cores</code><a href="#sect-rt-api-availability-cores" class="hash-link" aria-label="Direct link to sect-rt-api-availability-cores" title="Direct link to sect-rt-api-availability-cores">​</a></h3><p>Returns information on all availability cores (<a href="/chapter-anv#defn-availability-core">Definition 145</a>).</p><p><strong>Arguments</strong>  </p><ul><li>None</li></ul><p><strong>Return</strong>  </p><ul><li><p>An array of core states, S, of the following format:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>S</mi><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">→</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>C</mi><mi>o</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">→</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><msub><mi>C</mi><mi>s</mi></msub></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">→</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>ϕ</mi></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">{S}={\left\lbrace\begin{matrix}{0}&amp;\rightarrow&amp;{C}_{{o}}\\{1}&amp;\rightarrow&amp;{C}_{{s}}\\{2}&amp;\rightarrow&amp;\phi\end{matrix}\right.}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">S</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em"></span><span class="mord"><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.5em"><span class="pstrut" style="height:3.15em"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.492em"><span class="pstrut" style="height:3.15em"></span><span style="height:0.016em;width:0.8889em"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.016em" style="width:0.8889em" viewBox="0 0 888.89 16" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V16 H384z M384 0 H504 V16 H384z"></path></svg></span></span><span style="top:-3.15em"><span class="pstrut" style="height:3.15em"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.292em"><span class="pstrut" style="height:3.15em"></span><span style="height:0.016em;width:0.8889em"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.016em" style="width:0.8889em" viewBox="0 0 888.89 16" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V16 H384z M384 0 H504 V16 H384z"></path></svg></span></span><span style="top:-4.3em"><span class="pstrut" style="height:3.15em"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord">0</span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord">1</span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mrel">→</span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mrel">→</span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mrel">→</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">C</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">C</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">ϕ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span></div><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>C</mi><mi>o</mi></msub><mo>=</mo><mrow><mo fence="true">(</mo><msub><mi>n</mi><mi>u</mi></msub><mo separator="true">,</mo><msub><mi>B</mi><mi>o</mi></msub><mo separator="true">,</mo><msub><mi>B</mi><mi>t</mi></msub><mo separator="true">,</mo><msub><mi>n</mi><mi>t</mi></msub><mo separator="true">,</mo><mi>b</mi><mo separator="true">,</mo><msub><mi>G</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>C</mi><mi>h</mi></msub><mo separator="true">,</mo><msub><mi>C</mi><mi>d</mi></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">{C}_{{o}}={\left({n}_{{u}},{B}_{{o}},{B}_{{t}},{n}_{{t}},{b},{G}_{{i}},{C}_{{h}},{C}_{{d}}\right)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">C</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em">(</span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">b</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">G</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">C</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">C</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em">)</span></span></span></span></span></span></span></div><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>C</mi><mi>s</mi></msub><mo>=</mo><mrow><mo fence="true">(</mo><msub><mi>P</mi><mi>i</mi></msub><mi>d</mi><mo separator="true">,</mo><msub><mi>C</mi><mi>i</mi></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">{C}_{{s}}={\left({P}_{{i}}{d},{C}_{{i}}\right)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">C</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em">(</span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">P</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">d</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">C</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em">)</span></span></span></span></span></span></span></div><p><strong>where</strong>  </p><ul><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">{S}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">S</span></span></span></span></span></span> specifies the core state. <em>0</em> indicates that the core is occupied, <em>1</em> implies it’s currently free but scheduled and given the opportunity to occupy and <em>2</em> implies it’s free and there’s nothing scheduled.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mi>u</mi></msub></mrow><annotation encoding="application/x-tex">{n}_{{u}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">u</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is an <em>Option</em> value (<a href="/id-cryptography-encoding#defn-option-type">Definition 200</a>) which can contain a <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">{C}_{{s}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">C</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> value if the core was freed by the Runtime and indicates the assignment that is next scheduled on this core. An empty value indicates there is nothing scheduled.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mi>o</mi></msub></mrow><annotation encoding="application/x-tex">{B}_{{o}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">o</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> indicates the relay chain block number at which the core got occupied.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>B</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">{B}_{{t}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> indicates the relay chain block number the core will time-out at, if any.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>n</mi><mi>t</mi></msub></mrow><annotation encoding="application/x-tex">{n}_{{t}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">n</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2806em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is an <em>Option</em> value (<a href="/id-cryptography-encoding#defn-option-type">Definition 200</a>) which can contain a <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">{C}_{{s}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">C</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> value if the core is freed by a time-out and indicates the assignment that is next scheduled on this core. An empty value indicates there is nothing scheduled.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">{b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord"><span class="mord mathnormal">b</span></span></span></span></span></span> is a bitfield array (<a href="/chapter-anv#defn-bitfield-array">Definition 151</a>). A <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>&gt;</mo><mfrac><mn>2</mn><mn>3</mn></mfrac></mrow><annotation encoding="application/x-tex">&gt;\frac{{2}}{{3}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.1901em;vertical-align:-0.345em"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8451em"><span style="top:-2.655em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">3</span></span></span></span></span><span style="top:-3.23em"><span class="pstrut" style="height:3em"></span><span class="frac-line" style="border-bottom-width:0.04em"></span></span><span style="top:-3.394em"><span class="pstrut" style="height:3em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span> majority of assigned validators voting with <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">{1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord"><span class="mord">1</span></span></span></span></span></span> values means that the core is available.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">{G}_{{i}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">G</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> indicates the assigned validator group index (<a href="/chapter-anv#defn-validator-groups">Definition 146</a>) is to distribute availability pieces of this candidate.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>h</mi></msub></mrow><annotation encoding="application/x-tex">{C}_{{h}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">C</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> indicates the hash of the candidate occupying the core.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>d</mi></msub></mrow><annotation encoding="application/x-tex">{C}_{{d}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">C</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">d</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is the candidate descriptor (<a href="/chapter-anv#defn-candidate-descriptor">Definition 116</a>).</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">{C}_{{i}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">C</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is an <em>Option</em> value (<a href="/id-cryptography-encoding#defn-option-type">Definition 200</a>) which can contain the collators public key indicating who should author the block.</p></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rt-api-persisted-validation-data">C.9.4. <code>ParachainHost_persisted_validation_data</code><a href="#sect-rt-api-persisted-validation-data" class="hash-link" aria-label="Direct link to sect-rt-api-persisted-validation-data" title="Direct link to sect-rt-api-persisted-validation-data">​</a></h3><p>Returns the persisted validation data for the given parachain Id and a given occupied core assumption.</p><p><strong>Arguments</strong>  </p><ul><li><p>The parachain Id (<a href="/chapter-anv#defn-para-id">Definition 144</a>).</p></li><li><p>An occupied core assumption (<a href="/chap-runtime-api#defn-occupied-core-assumption">Definition 239</a>).</p></li></ul><p><strong>Return</strong>  </p><ul><li>An <em>Option</em> value (<a href="/id-cryptography-encoding#defn-option-type">Definition 200</a>) which can contain the persisted validation data (<a href="/chap-runtime-api#defn-persisted-validation-data">Definition 240</a>). The value is empty if the parachain Id is not registered or the core assumption is of index <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord"><span class="mord">2</span></span></span></span></span></span>, meaning that the core was freed.</li></ul><h6 class="anchor anchorWithStickyNavbar_LWe7" id="defn-occupied-core-assumption">Definition 239. Occupied Core Assumption<a href="#defn-occupied-core-assumption" class="hash-link" aria-label="Direct link to Definition 239. Occupied Core Assumption" title="Direct link to Definition 239. Occupied Core Assumption">​</a></h6><div class="alert alert--definition"><h5></h5><div><p>An occupied core assumption is used for fetching certain pieces of information about a parachain by using the relay chain API. The assumption indicates how the Runtime API should compute the result. The assumptions, A, is a varying datatype of the following format:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>A</mi><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">→</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>ϕ</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">→</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>ϕ</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">→</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>ϕ</mi></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">{A}={\left\lbrace\begin{matrix}{0}&amp;\rightarrow&amp;\phi\\{1}&amp;\rightarrow&amp;\phi\\{2}&amp;\rightarrow&amp;\phi\end{matrix}\right.}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord"><span class="mord mathnormal">A</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em"></span><span class="mord"><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.5em"><span class="pstrut" style="height:3.15em"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.492em"><span class="pstrut" style="height:3.15em"></span><span style="height:0.016em;width:0.8889em"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.016em" style="width:0.8889em" viewBox="0 0 888.89 16" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V16 H384z M384 0 H504 V16 H384z"></path></svg></span></span><span style="top:-3.15em"><span class="pstrut" style="height:3.15em"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.292em"><span class="pstrut" style="height:3.15em"></span><span style="height:0.016em;width:0.8889em"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.016em" style="width:0.8889em" viewBox="0 0 888.89 16" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V16 H384z M384 0 H504 V16 H384z"></path></svg></span></span><span style="top:-4.3em"><span class="pstrut" style="height:3.15em"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord">0</span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord">1</span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mrel">→</span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mrel">→</span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mrel">→</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">ϕ</span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">ϕ</span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord mathnormal">ϕ</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span></div><p>where <em>0</em> indicates that the candidate occupying the core was made available and included to free the core, <em>1</em> indicates that it timed-out and freed the core without advancing the parachain and <em>2</em> indicates that the core was not occupied to begin with.</p></div></div><h6 class="anchor anchorWithStickyNavbar_LWe7" id="defn-persisted-validation-data">Definition 240. Persisted Validation Data<a href="#defn-persisted-validation-data" class="hash-link" aria-label="Direct link to Definition 240. Persisted Validation Data" title="Direct link to Definition 240. Persisted Validation Data">​</a></h6><div class="alert alert--definition"><h5></h5><div><p>The persisted validation data provides information about how to create the inputs for the validation of a candidate by calling the Runtime. This information is derived from the parachain state and will vary from parachain to parachain, although some of the fields may be the same for every parachain. This validation data acts as a way to authorize the additional data (such as messages) the collator needs to pass to the validation function.</p><p>The persisted validation data, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>D</mi><mrow><mi>p</mi><mi>v</mi></mrow></msub></mrow><annotation encoding="application/x-tex">{D}_{{{p}{v}}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">D</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">v</span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span>, is a datastructure of the following format:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>D</mi><mrow><mi>p</mi><mi>v</mi></mrow></msub><mo>=</mo><mrow><mo fence="true">(</mo><msub><mi>P</mi><mi>h</mi></msub><mo separator="true">,</mo><msub><mi>H</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>H</mi><mi>r</mi></msub><mo separator="true">,</mo><msub><mi>m</mi><mi>b</mi></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">{D}_{{{p}{v}}}={\left({P}_{{h}},{H}_{{i}},{H}_{{r}},{m}_{{b}}\right)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">D</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">v</span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em">(</span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">P</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em">H</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em">H</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">r</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">m</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em">)</span></span></span></span></span></span></span></div><p><strong>where</strong>  </p><ul><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mi>h</mi></msub></mrow><annotation encoding="application/x-tex">{P}_{{h}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em">P</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is the parent head data (<a href="/chapter-anv#defn-head-data">Definition 143</a>).</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">{H}_{{i}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em">H</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is the relay chain block number this is in the context of.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>H</mi><mi>r</mi></msub></mrow><annotation encoding="application/x-tex">{H}_{{r}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.08125em">H</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">r</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is the relay chain storage root this is in the context of.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>m</mi><mi>b</mi></msub></mrow><annotation encoding="application/x-tex">{m}_{{b}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">m</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is the maximum legal size of the PoV block, in bytes.</p></li></ul><p>The persisted validation data is fetched via the Runtime API (<a href="/chap-runtime-api#sect-rt-api-persisted-validation-data">Section C.9.4.</a>).</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rt-api-assumed-validation-data">C.9.5. <code>ParachainHost_assumed_validation_data</code><a href="#sect-rt-api-assumed-validation-data" class="hash-link" aria-label="Direct link to sect-rt-api-assumed-validation-data" title="Direct link to sect-rt-api-assumed-validation-data">​</a></h3><p>Returns the persisted validation data for the given parachain Id along with the corresponding Validation Code Hash. Instead of accepting validation about para, matches the validation data hash against an expected one and yields <code>None</code> if they are unequal. </p><p><strong>Arguments</strong></p><ul><li>The Parachain Id (<a href="/chapter-anv#defn-para-id">Definition 144</a>).</li><li>Expected Persistent Validation Data Hash (<a href="/chap-runtime-api#defn-persisted-validation-data">Definition 240</a>).</li></ul><p><strong>Return</strong></p><ul><li>An <em>Option</em> value (<a href="/id-cryptography-encoding#defn-option-type">Definition 200</a>) which can contain the pair of persisted validation data (<a href="/chap-runtime-api#defn-persisted-validation-data">Definition 240</a>) and Validation Code Hash. The value is <code>None</code> if the parachain Id is not registered or the validation data hash does not match the expected one.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="id-parachainhost_check_validation_outputs">C.9.6. <code>ParachainHost_check_validation_outputs</code><a href="#id-parachainhost_check_validation_outputs" class="hash-link" aria-label="Direct link to id-parachainhost_check_validation_outputs" title="Direct link to id-parachainhost_check_validation_outputs">​</a></h3><p>Checks if the given validation outputs pass the acceptance criteria.</p><p><strong>Arguments</strong>  </p><ul><li><p>The parachain Id (<a href="/chapter-anv#defn-para-id">Definition 144</a>).</p></li><li><p>The candidate commitments (<a href="/chapter-anv#defn-candidate-commitments">Definition 117</a>).</p></li></ul><p><strong>Return</strong>  </p><ul><li>A boolean indicating whether the candidate commitments pass the acceptance criteria.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="id-parachainhost_session_index_for_child">C.9.7. <code>ParachainHost_session_index_for_child</code><a href="#id-parachainhost_session_index_for_child" class="hash-link" aria-label="Direct link to id-parachainhost_session_index_for_child" title="Direct link to id-parachainhost_session_index_for_child">​</a></h3><p>Returns the session index that is expected at the child of a block.</p><div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>TODO clarify session index</p></div></div><p><strong>Arguments</strong>  </p><ul><li>None</li></ul><p><strong>Return</strong>  </p><ul><li>A unsigned 32-bit integer representing the session index.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rt-api-validation-code">C.9.8. <code>ParachainHost_validation_code</code><a href="#sect-rt-api-validation-code" class="hash-link" aria-label="Direct link to sect-rt-api-validation-code" title="Direct link to sect-rt-api-validation-code">​</a></h3><p>Fetches the validation code (Runtime) of a parachain by parachain Id.</p><p><strong>Arguments</strong>  </p><ul><li><p>The parachain Id (<a href="/chapter-anv#defn-para-id">Definition 144</a>).</p></li><li><p>The occupied core assumption (<a href="/chap-runtime-api#defn-occupied-core-assumption">Definition 239</a>).</p></li></ul><p><strong>Return</strong>  </p><ul><li>An <em>Option</em> value (<a href="/id-cryptography-encoding#defn-option-type">Definition 200</a>) containing the full validation code in a byte array. This value is empty if the parachain Id cannot be found or the assumption is wrong.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rt-api-validation-code-by-hash">C.9.9. <code>ParachainHost_validation_code_by_hash</code><a href="#sect-rt-api-validation-code-by-hash" class="hash-link" aria-label="Direct link to sect-rt-api-validation-code-by-hash" title="Direct link to sect-rt-api-validation-code-by-hash">​</a></h3><p>Returns the validation code (Runtime) of a parachain by its hash.</p><p><strong>Arguments</strong>  </p><ul><li>The hash value of the validation code.</li></ul><p><strong>Return</strong>  </p><ul><li>An <em>Option</em> value (<a href="/id-cryptography-encoding#defn-option-type">Definition 200</a>) containing the full validation code in a byte array. This value is empty if the parachain Id cannot be found or the assumption is wrong.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rt-api-validation-code-hash">C.9.10. <code>ParachainHost_validation_code_hash</code><a href="#sect-rt-api-validation-code-hash" class="hash-link" aria-label="Direct link to sect-rt-api-validation-code-hash" title="Direct link to sect-rt-api-validation-code-hash">​</a></h3><p>Returns the validation code hash of a parachain.</p><p><strong>Arguments</strong></p><ul><li>The parachain Id (<a href="/chapter-anv#defn-para-id">Definition 144</a>).</li><li>An occupied core assumption (<a href="/chap-runtime-api#defn-occupied-core-assumption">Definition 239</a>).</li></ul><p><strong>Return</strong></p><ul><li>An <em>Option</em> value (<a href="/id-cryptography-encoding#defn-option-type">Definition 200</a>) containing the hash value of the validation code. This value is empty if the parachain Id cannot be found or the assumption is wrong.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="id-parachainhost_candidate_pending_availability">C.9.11. <code>ParachainHost_candidate_pending_availability</code><a href="#id-parachainhost_candidate_pending_availability" class="hash-link" aria-label="Direct link to id-parachainhost_candidate_pending_availability" title="Direct link to id-parachainhost_candidate_pending_availability">​</a></h3><p>Returns the receipt of a candidate pending availability for any parachain assigned to an occupied availability core.</p><p><strong>Arguments</strong>  </p><ul><li>The parachain Id (<a href="/chapter-anv#defn-para-id">Definition 144</a>).</li></ul><p><strong>Return</strong>  </p><ul><li>An <em>Option</em> value (<a href="/id-cryptography-encoding#defn-option-type">Definition 200</a>) containing the committed candidate receipt (<a href="/chapter-anv#defn-candidate-receipt">Definition 114</a>). This value is empty if the given parachain Id is not assigned to an occupied availability core.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="id-parachainhost_candidate_events">C.9.12. <code>ParachainHost_candidate_events</code><a href="#id-parachainhost_candidate_events" class="hash-link" aria-label="Direct link to id-parachainhost_candidate_events" title="Direct link to id-parachainhost_candidate_events">​</a></h3><p>Returns an array of candidate events that occurred within the latest state.</p><p><strong>Arguments</strong>  </p><ul><li>None</li></ul><p><strong>Return</strong>  </p><ul><li><p>An array of single candidate events, E, of the following format:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>E</mi><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.16em" columnalign="center center center" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">→</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>d</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">→</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mi>d</mi></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>2</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mo lspace="0em" rspace="0em">→</mo></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mo fence="true">(</mo><msub><mi>C</mi><mi>r</mi></msub><mo separator="true">,</mo><mi>h</mi><mo separator="true">,</mo><msub><mi>I</mi><mi>c</mi></msub><mo fence="true">)</mo></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">{E}={\left\lbrace\begin{matrix}{0}&amp;\rightarrow&amp;{d}\\{1}&amp;\rightarrow&amp;{d}\\{2}&amp;\rightarrow&amp;{\left({C}_{{r}},{h},{I}_{{c}}\right)}\end{matrix}\right.}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">E</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em"></span><span class="mord"><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.5em"><span class="pstrut" style="height:3.15em"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.492em"><span class="pstrut" style="height:3.15em"></span><span style="height:0.016em;width:0.8889em"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.016em" style="width:0.8889em" viewBox="0 0 888.89 16" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V16 H384z M384 0 H504 V16 H384z"></path></svg></span></span><span style="top:-3.15em"><span class="pstrut" style="height:3.15em"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.292em"><span class="pstrut" style="height:3.15em"></span><span style="height:0.016em;width:0.8889em"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.016em" style="width:0.8889em" viewBox="0 0 888.89 16" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V16 H384z M384 0 H504 V16 H384z"></path></svg></span></span><span style="top:-4.3em"><span class="pstrut" style="height:3.15em"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord">0</span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord">1</span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mrel">→</span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mrel">→</span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mrel">→</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">d</span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">d</span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em">(</span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">C</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">r</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">h</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em">I</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em">)</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></span></div><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>d</mi><mo>=</mo><mrow><mo fence="true">(</mo><msub><mi>C</mi><mi>r</mi></msub><mo separator="true">,</mo><mi>h</mi><mo separator="true">,</mo><msub><mi>I</mi><mi>c</mi></msub><mo separator="true">,</mo><msub><mi>G</mi><mi>i</mi></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">{d}={\left({C}_{{r}},{h},{I}_{{c}},{G}_{{i}}\right)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord"><span class="mord mathnormal">d</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em">(</span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">C</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">r</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">h</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em">I</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">G</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em">)</span></span></span></span></span></span></span></div><p><strong>where</strong>  </p><ul><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi></mrow><annotation encoding="application/x-tex">{E}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">E</span></span></span></span></span></span> specifies the event type of the candidate. <em>0</em> indicates that the candidate receipt was backed in the latest relay chain block, <em>1</em> indicates that it was included and became a parachain block at the latest relay chain block and <em>2</em> indicates that the candidate receipt was not made available and timed out.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>r</mi></msub></mrow><annotation encoding="application/x-tex">{C}_{{r}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">C</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">r</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is the candidate receipt (<a href="/chapter-anv#defn-candidate-receipt">Definition 114</a>).</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>h</mi></mrow><annotation encoding="application/x-tex">{h}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord"><span class="mord mathnormal">h</span></span></span></span></span></span> is the parachain head data (<a href="/chapter-anv#defn-head-data">Definition 143</a>).</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>I</mi><mi>c</mi></msub></mrow><annotation encoding="application/x-tex">{I}_{{c}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.07847em">I</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">c</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is the index of the availability core as can be retrieved in <a href="/chap-runtime-api#sect-rt-api-availability-cores">Section C.9.3.</a> that the candidate is occupying. If <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi></mrow><annotation encoding="application/x-tex">{E}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">E</span></span></span></span></span></span> is of variant <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord"><span class="mord">2</span></span></span></span></span></span>, then this indicates the core index the candidate <em>was</em> occupying.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>G</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">{G}_{{i}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">G</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is the group index (<a href="/chapter-anv#defn-validator-groups">Definition 146</a>) that is responsible of backing the candidate.</p></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rt-api-session-info">C.9.13. <code>ParachainHost_session_info</code><a href="#sect-rt-api-session-info" class="hash-link" aria-label="Direct link to sect-rt-api-session-info" title="Direct link to sect-rt-api-session-info">​</a></h3><p>Get the session info of the given session, if available.</p><p><strong>Arguments</strong>  </p><ul><li>The unsigned 32-bit integer indicating the session index.</li></ul><p><strong>Return</strong>  </p><ul><li><p>An <em>Option</em> type (<a href="/id-cryptography-encoding#defn-option-type">Definition 200</a>) which can contain the session info structure, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">{S}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">S</span></span></span></span></span></span>, of the following format:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>S</mi><mo>=</mo><mrow><mo fence="true">(</mo><mi>A</mi><mo separator="true">,</mo><mi>D</mi><mo separator="true">,</mo><mi>K</mi><mo separator="true">,</mo><mi>G</mi><mo separator="true">,</mo><mi>c</mi><mo separator="true">,</mo><mi>z</mi><mo separator="true">,</mo><mi>s</mi><mo separator="true">,</mo><mi>d</mi><mo separator="true">,</mo><mi>x</mi><mo separator="true">,</mo><mi>a</mi><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">{S}={\left({A},{D},{K},{G},{c},{z},{s},{d},{x},{a}\right)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">S</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em">(</span><span class="mord"><span class="mord mathnormal">A</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">D</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">K</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">G</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">c</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em">z</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">s</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">d</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">x</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">a</span></span><span class="mclose delimcenter" style="top:0em">)</span></span></span></span></span></span></span></div><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>A</mi><mo>=</mo><mrow><mo fence="true">(</mo><msub><mi>v</mi><mi>n</mi></msub><mo separator="true">,</mo><mo>…</mo><msub><mi>v</mi><mi>m</mi></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">{A}={\left({v}_{{n}},…{v}_{{m}}\right)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord"><span class="mord mathnormal">A</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em">(</span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">v</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">v</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em">)</span></span></span></span></span></span></span></div><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>D</mi><mo>=</mo><mrow><mo fence="true">(</mo><msub><mi>v</mi><msub><mrow></mrow><mi>n</mi></msub></msub><mo separator="true">,</mo><mo>…</mo><msub><mi>v</mi><mi>m</mi></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">{D}={\left({v}_{{_{n}}},…{v}_{{m}}\right)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">D</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.0001em;vertical-align:-0.2501em"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em">(</span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">v</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:-0.0348em"><span style="top:-2.35em;margin-right:0.05em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight"><span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1645em"><span style="top:-2.357em;margin-right:0.0714em"><span class="pstrut" style="height:2.5em"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em"><span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2501em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">v</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em">)</span></span></span></span></span></span></span></div><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>K</mi><mo>=</mo><mrow><mo fence="true">(</mo><msub><mi>v</mi><mi>n</mi></msub><mo separator="true">,</mo><mo>…</mo><msub><mi>v</mi><mi>m</mi></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">{K}={\left({v}_{{n}},…{v}_{{m}}\right)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">K</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em">(</span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">v</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">v</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em">)</span></span></span></span></span></span></span></div><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>G</mi><mo>=</mo><mrow><mo fence="true">(</mo><mrow><msub><mi>g</mi><mi>n</mi></msub><mo separator="true">,</mo></mrow><mo>…</mo><msub><mi>g</mi><mi>m</mi></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">{G}={\left({{g}_{{n}},}…{g}_{{m}}\right)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord"><span class="mord mathnormal">G</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em">(</span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">g</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em">)</span></span></span></span></span></span></span></div><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>g</mi><mo>=</mo><mrow><mo fence="true">(</mo><msub><mi>A</mi><mi>n</mi></msub><mo separator="true">,</mo><mo>…</mo><msub><mi>A</mi><mi>m</mi></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">{g}={\left({A}_{{n}},…{A}_{{m}}\right)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">g</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em">(</span><span class="mord"><span class="mord"><span class="mord mathnormal">A</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">A</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em">)</span></span></span></span></span></span></span></div><p><strong>where</strong>  </p><ul><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">{A}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord"><span class="mord mathnormal">A</span></span></span></span></span></span> indicates the validators of the current session in canonical order. There might be more validators in the current session than validators participating in parachain consensus, as returned by the Runtime API (<a href="/chap-runtime-api#sect-rt-api-validators">Section C.9.1.</a>).</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>D</mi></mrow><annotation encoding="application/x-tex">{D}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">D</span></span></span></span></span></span> indicates the validator authority discovery keys for the given session in canonical order. The first couple of validators are equal to the corresponding validators participating in the parachain consensus, as returned by the Runtime API (<a href="/chap-runtime-api#sect-rt-api-validators">Section C.9.1.</a>). The remaining authorities are not participating in the parachain consensus.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>K</mi></mrow><annotation encoding="application/x-tex">{K}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">K</span></span></span></span></span></span> indicates the assignment keys for validators. There might be more authorities in the session that validators participating in parachain consensus, as returned by the Runtime API (<a href="/chap-runtime-api#sect-rt-api-validators">Section C.9.1.</a>).</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi></mrow><annotation encoding="application/x-tex">{G}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord"><span class="mord mathnormal">G</span></span></span></span></span></span> indicates the validator groups in shuffled order.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>v</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">{v}_{{n}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">v</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is public key of the authority.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">{A}_{{n}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">A</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is the authority set Id (<a href="/sect-finality#defn-authority-set-id">Definition 78</a>).</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">{c}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord"><span class="mord mathnormal">c</span></span></span></span></span></span> is an unsigned 32-bit integer indicating the number of availability cores used by the protocol during the given session.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi></mrow><annotation encoding="application/x-tex">{z}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.04398em">z</span></span></span></span></span></span> is an unsigned 32-bit integer indicating the zeroth delay tranche width.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">{s}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord"><span class="mord mathnormal">s</span></span></span></span></span></span> is an unsigned 32-bit integer indicating the number of samples an assigned validator should do for approval voting.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">{d}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord"><span class="mord mathnormal">d</span></span></span></span></span></span> is an unsigned 32-bit integer indicating the number of delay tranches in total.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">{x}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord"><span class="mord mathnormal">x</span></span></span></span></span></span> is an unsigned 32-bit integer indicating how many BABE slots must pass before an assignment is considered a “no-show”.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">{a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord"><span class="mord mathnormal">a</span></span></span></span></span></span> is an unsigned 32-bit integer indicating the number of validators needed to approve a block.</p></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="id-parachainhost_dmq_contents">C.9.14. <code>ParachainHost_dmq_contents</code><a href="#id-parachainhost_dmq_contents" class="hash-link" aria-label="Direct link to id-parachainhost_dmq_contents" title="Direct link to id-parachainhost_dmq_contents">​</a></h3><p>Returns all the pending inbound messages in the downward message queue for a given parachain.</p><p><strong>Arguments</strong>  </p><ul><li>The parachain Id (<a href="/chapter-anv#defn-para-id">Definition 144</a>).</li></ul><p><strong>Return</strong>  </p><ul><li>An array of inbound downward messages (<a href="/chapter-anv#defn-downward-message">Definition 148</a>).</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="id-parachainhost_inbound_hrmp_channels_contents">C.9.15. <code>ParachainHost_inbound_hrmp_channels_contents</code><a href="#id-parachainhost_inbound_hrmp_channels_contents" class="hash-link" aria-label="Direct link to id-parachainhost_inbound_hrmp_channels_contents" title="Direct link to id-parachainhost_inbound_hrmp_channels_contents">​</a></h3><p>Returns the contents of all channels addressed to the given recipient. Channels that have no messages in them are also included.</p><p><strong>Arguments</strong>  </p><ul><li>The parachain Id (<a href="/chapter-anv#defn-para-id">Definition 144</a>).</li></ul><p><strong>Return</strong>  </p><ul><li>An array of inbound HRMP messages (<a href="/chapter-anv#defn-inbound-hrmp-message">Definition 150</a>).</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-parachainhost-on-chain-votes">C.9.16. <code>ParachainHost_on_chain_votes</code><a href="#sect-parachainhost-on-chain-votes" class="hash-link" aria-label="Direct link to sect-parachainhost-on-chain-votes" title="Direct link to sect-parachainhost-on-chain-votes">​</a></h3><p>Returns disputes relevant from on-chain, backing votes, and resolved disputes. </p><p><strong>Arguments</strong></p><ul><li>None</li></ul><p><strong>Return</strong></p><ul><li>An <em>Option</em> (<a href="/id-cryptography-encoding#defn-option-type">Definition 200</a>) type which can contain the scraped on-chain votes data (<a href="/chap-runtime-api#defn-scraped-on-chain-vote">Definition 241</a>). </li></ul><h6 class="anchor anchorWithStickyNavbar_LWe7" id="defn-scraped-on-chain-vote">Definition 241. Scraped On Chain Vote<a href="#defn-scraped-on-chain-vote" class="hash-link" aria-label="Direct link to Definition 241. Scraped On Chain Vote" title="Direct link to Definition 241. Scraped On Chain Vote">​</a></h6><div class="alert alert--definition"><h5></h5><div><p>Contains the scraped runtime backing votes and resolved disputes.</p><p>The scraped on-chain votes data, <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi><mi>O</mi><mi>C</mi><mi>V</mi></mrow><annotation encoding="application/x-tex">SOCV</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">SOC</span><span class="mord mathnormal" style="margin-right:0.22222em">V</span></span></span></span></span>, is a data structure of the following format:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>S</mi><mi>O</mi><mi>C</mi><mi>V</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>S</mi><mi>i</mi></msub><mo separator="true">,</mo><mi>B</mi><mi>V</mi><mo separator="true">,</mo><mi>d</mi><mo stretchy="false">)</mo><mspace linebreak="newline"></mspace><mi>B</mi><mi>V</mi><mo>=</mo><mo stretchy="false">[</mo><msub><mi>C</mi><mi>r</mi></msub><mo separator="true">,</mo><mo stretchy="false">[</mo><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">SOCV = (S_i,BV,d) \\ BV = [C_r, [(i,a)]]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">SOC</span><span class="mord mathnormal" style="margin-right:0.22222em">V</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="mord mathnormal" style="margin-right:0.22222em">V</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">d</span><span class="mclose">)</span></span><span class="mspace newline"></span><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="mord mathnormal" style="margin-right:0.22222em">V</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">[</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mopen">[(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">a</span><span class="mclose">)]]</span></span></span></span></span></div><p><strong>where</strong>:</p><ul><li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">S_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is the u32 integer representing the session index in which the block was introduced.</li><li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mi>V</mi></mrow><annotation encoding="application/x-tex">BV</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="mord mathnormal" style="margin-right:0.22222em">V</span></span></span></span></span> is the set of backing validators for each candidate, represented by its candidate receipt (<a href="/chapter-anv#defn-candidate-receipt">Definition 114</a>). Each candidate <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>C</mi><mi>r</mi></msub></mrow><annotation encoding="application/x-tex">C_r</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">r</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> has a list of <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo separator="true">,</mo><mi>a</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(i,a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">a</span><span class="mclose">)</span></span></span></span></span>, the pair of validator index and validation attestations (<a href="/chapter-anv#defn-parachain-inherent-data">Definition 113</a>).</li><li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">d</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal">d</span></span></span></span></span> is a set of dispute statements (<a href="/chapter-anv#net-msg-dispute-request">Section 8.7.2.1.</a>). Note that the above <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi><mi>V</mi></mrow><annotation encoding="application/x-tex">BV</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="mord mathnormal" style="margin-right:0.22222em">V</span></span></span></span></span> is unrelated to the backers of the dispute candidates. </li></ul></div></div><div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>PVF Pre-Checker subsystem is still Work-in-Progress, hence the below APIs are subject to change.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rt-api-pvfs-require-precheck">C.9.17. <code>ParachainHost_pvfs_require_precheck</code><a href="#sect-rt-api-pvfs-require-precheck" class="hash-link" aria-label="Direct link to sect-rt-api-pvfs-require-precheck" title="Direct link to sect-rt-api-pvfs-require-precheck">​</a></h3><p>This runtime API fetches all PVFs that require pre-checking voting. The PVFs are identified by their code hashes. As soon as the PVF gains the required support, the runtime API will not return the PVF anymore.</p><p><strong>Arguments</strong></p><ul><li>None</li></ul><p><strong>Return</strong></p><ul><li>A list of validation code hashes that require prechecking of votes by validators in the active set. </li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rt-api-submit-pvf-check-statement">C.9.18. <code>ParachainHost_submit_pvf_check_statement</code><a href="#sect-rt-api-submit-pvf-check-statement" class="hash-link" aria-label="Direct link to sect-rt-api-submit-pvf-check-statement" title="Direct link to sect-rt-api-submit-pvf-check-statement">​</a></h3><p>This runtime API submits the judgment for a PVF, whether it is approved or not. The voting process uses unsigned transactions. The check is circulated through the network via gossip, similar to a normal transaction. At some point, the validator will include the statement in the block, where it will be processed by the runtime. If that was the last vote before gaining the super-majority, this PVF would not be returned by <code>pvfs_require_precheck</code> (<a href="/chap-runtime-api#sect-rt-api-pvfs-require-precheck">Section C.9.17.</a>) anymore.</p><p><strong>Arguments</strong></p><ul><li>A PVF pre checking statement (<a href="/chap-runtime-api#defn-pvf-check-statement">Definition 242</a>) to be submitted into the transaction pool.</li><li>Validator Signature (<a href="/chapter-anv#defn-parachain-inherent-data">Definition 113</a>).</li></ul><p><strong>Return</strong></p><ul><li>None</li></ul><h6 class="anchor anchorWithStickyNavbar_LWe7" id="defn-pvf-check-statement">Definition 242. PVF Check Statement<a href="#defn-pvf-check-statement" class="hash-link" aria-label="Direct link to Definition 242. PVF Check Statement" title="Direct link to Definition 242. PVF Check Statement">​</a></h6><div class="alert alert--definition"><h5></h5><div><p>This is a statement by the validator who ran the pre-checking process for a PVF. A PVF is identified by the <em>ValidationCodeHash</em>. The statement is valid only during a single session, specified in the <code>session_index</code>.</p><p>The PVF Check Statement <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mrow><mi>p</mi><mi>v</mi><mi>f</mi></mrow></msub></mrow><annotation encoding="application/x-tex">S_{pvf}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight" style="margin-right:0.03588em">v</span><span class="mord mathnormal mtight" style="margin-right:0.10764em">f</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span></span>, is a datastructure of the following format:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>S</mi><mrow><mi>p</mi><mi>v</mi><mi>f</mi></mrow></msub><mo>=</mo><mo stretchy="false">(</mo><mi>b</mi><mo separator="true">,</mo><mi>V</mi><msub><mi>C</mi><mi>H</mi></msub><mo separator="true">,</mo><msub><mi>S</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>V</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">S_{pvf} = (b,VC_H,S_i,V_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.9694em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">p</span><span class="mord mathnormal mtight" style="margin-right:0.03588em">v</span><span class="mord mathnormal mtight" style="margin-right:0.10764em">f</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord mathnormal">b</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.22222em">V</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.08125em">H</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></div><p><strong>where</strong>:</p><ul><li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal">b</span></span></span></span></span> is a boolean denoting if the subject passed pre-checking.</li><li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>V</mi><msub><mi>C</mi><mi>H</mi></msub></mrow><annotation encoding="application/x-tex">VC_H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord mathnormal" style="margin-right:0.22222em">V</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em">C</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.08125em">H</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is the validation code hash.</li><li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">S_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05764em">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0576em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is a u32 integer representing the session index.</li><li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>V</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">V_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8333em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.22222em">V</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.2222em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is the validator index (<a href="/chapter-anv#defn-parachain-inherent-data">Definition 113</a>). </li></ul></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rt-api-disputes">C.9.19. <code>ParachainHost_disputes</code><a href="#sect-rt-api-disputes" class="hash-link" aria-label="Direct link to sect-rt-api-disputes" title="Direct link to sect-rt-api-disputes">​</a></h3><p>This runtime API fetches all on-chain disputes. </p><p><strong>Arguments</strong></p><ul><li>None</li></ul><p><strong>Return</strong></p><ul><li>A list of (SessionIndex, CandidateHash, DisputeState). </li></ul><div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>TODO clarify DisputeState</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rt-api-executor_params">C.9.20. <code>ParachainHost_executor_params</code><a href="#sect-rt-api-executor_params" class="hash-link" aria-label="Direct link to sect-rt-api-executor_params" title="Direct link to sect-rt-api-executor_params">​</a></h3><p>This runtime API returns execution parameters for the session.</p><p><strong>Arguments</strong></p><ul><li>Session Index</li></ul><div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>TODO clarify session index</p></div></div><p><strong>Return</strong></p><ul><li>Option type of Executor Parameters. </li></ul><div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>TODO clarify Executor Parameters</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="id-module-grandpaapi">C.10. Module GrandpaApi<a href="#id-module-grandpaapi" class="hash-link" aria-label="Direct link to C.10. Module GrandpaApi" title="Direct link to C.10. Module GrandpaApi">​</a></h2><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>This section describes <strong>Version 2</strong> of this API. Please check <code>Core_version</code> (<a href="/chap-runtime-api#defn-rt-core-version">Section C.4.1.</a>) to ensure compatibility.</p></div></div><p>All calls in this module require <code>Core_initialize_block</code> (<a href="/chap-runtime-api#sect-rte-core-initialize-block">Section C.4.3.</a>) to be called beforehand.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rte-grandpa-auth">C.10.1. <code>GrandpaApi_grandpa_authorities</code><a href="#sect-rte-grandpa-auth" class="hash-link" aria-label="Direct link to sect-rte-grandpa-auth" title="Direct link to sect-rte-grandpa-auth">​</a></h3><p>This entry fetches the list of GRANDPA authorities according to the genesis block and is used to initialize an authority list at genesis, defined in <a href="/chap-sync#defn-authority-list">Definition 33</a>. Any future authority changes get tracked via Runtime-to-consensus engine messages, as described in <a href="/chap-sync#sect-consensus-message-digest">Section 3.3.2.</a>.</p><p><strong>Arguments</strong>  </p><ul><li>None.</li></ul><p><strong>Return</strong>  </p><ul><li>An authority list as defined in <a href="/chap-sync#defn-authority-list">Definition 33</a>.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-grandpa-current-set-id">C.10.2. <code>GrandpaApi_current_set_id</code><a href="#sect-grandpa-current-set-id" class="hash-link" aria-label="Direct link to sect-grandpa-current-set-id" title="Direct link to sect-grandpa-current-set-id">​</a></h3><p>This entry fetches the list of GRANDPA authority set IDs (<a href="/sect-finality#defn-authority-set-id">Definition 78</a>). Any future authority changes get tracked via Runtime-to-consensus engine messages, as described in <a href="/chap-sync#sect-consensus-message-digest">Section 3.3.2.</a>.</p><p><strong>Arguments</strong></p><ul><li>None.</li></ul><p><strong>Return</strong></p><ul><li>An authority set ID as defined in <a href="/sect-finality#defn-authority-set-id">Definition 78</a>.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-grandpaapi_submit_report_equivocation_unsigned_extrinsic">C.10.3. <code>GrandpaApi_submit_report_equivocation_unsigned_extrinsic</code><a href="#sect-grandpaapi_submit_report_equivocation_unsigned_extrinsic" class="hash-link" aria-label="Direct link to sect-grandpaapi_submit_report_equivocation_unsigned_extrinsic" title="Direct link to sect-grandpaapi_submit_report_equivocation_unsigned_extrinsic">​</a></h3><p>A GRANDPA equivocation occurs when a validator votes for multiple blocks during one voting subround, as described further in <a href="/sect-finality#defn-voter-equivocation">Definition 85</a>. The Polkadot Host is expected to identify equivocators and report those to the Runtime by calling this function.</p><p><strong>Arguments</strong>  </p><ul><li><p>The equivocation proof of the following format:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi>G</mi><mrow><mi mathvariant="normal">E</mi><mi mathvariant="normal">p</mi></mrow></msub><mo>=</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo stretchy="false">(</mo><msub><mrow><mi mathvariant="normal">i</mi><mi mathvariant="normal">d</mi></mrow><mi mathvariant="double-struck">V</mi></msub><mo separator="true">,</mo><mi>e</mi><mo separator="true">,</mo><mi>r</mi><mo separator="true">,</mo><msub><mi>A</mi><mrow><mi mathvariant="normal">i</mi><mi mathvariant="normal">d</mi></mrow></msub><mo separator="true">,</mo><msubsup><mi>B</mi><mi>h</mi><mn>1</mn></msubsup><mo separator="true">,</mo><msubsup><mi>B</mi><mi>n</mi><mn>1</mn></msubsup><mo separator="true">,</mo><msubsup><mi>A</mi><mrow><mi mathvariant="normal">s</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">g</mi></mrow><mn>1</mn></msubsup><mo separator="true">,</mo><msubsup><mi>B</mi><mi>h</mi><mn>2</mn></msubsup><mo separator="true">,</mo><msubsup><mi>B</mi><mi>n</mi><mn>2</mn></msubsup><mo separator="true">,</mo><msubsup><mi>A</mi><mrow><mi mathvariant="normal">s</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">g</mi></mrow><mn>2</mn></msubsup><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>e</mi><mo>=</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mrow><mo fence="true">{</mo><mtable rowspacing="0.36em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>0</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mspace width="1em"></mspace><mtext>Equivocation at prevote stage</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mn>1</mn></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mspace width="1em"></mspace><mtext>Equivocation at precommit stage</mtext></mrow></mstyle></mtd></mtr></mtable></mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned} G_{\mathrm{Ep}} =&amp; (\mathrm{id}_{\mathbb{V}}, e, r, A_{\mathrm{id}}, B^1_h, B^1_n, A^1_{\mathrm{sig}}, B^2_h, B^2_n, A^2_{\mathrm{sig}}) \\ e =&amp; \begin{cases} 0 &amp; \quad \textrm{Equivocation at prevote stage} \\ 1 &amp; \quad \textrm{Equivocation at precommit stage} \end{cases} \end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.8472em;vertical-align:-2.1736em"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6736em"><span style="top:-5.5595em"><span class="pstrut" style="height:3.75em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">G</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3283em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">Ep</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span></span></span><span style="top:-3.1264em"><span class="pstrut" style="height:3.75em"></span><span class="mord"><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1736em"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.6736em"><span style="top:-5.5595em"><span class="pstrut" style="height:3.75em"></span><span class="mord"><span class="mord"></span><span class="mopen">(</span><span class="mord"><span class="mord"><span class="mord mathrm">id</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3322em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathbb mtight">V</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">e</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.02778em">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">id</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em"><span style="top:-2.453em;margin-left:-0.0502em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em"><span style="top:-2.453em;margin-left:-0.0502em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight" style="margin-right:0.01389em">sig</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3831em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em"><span style="top:-2.453em;margin-left:-0.0502em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em"><span style="top:-2.453em;margin-left:-0.0502em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">A</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8641em"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight" style="margin-right:0.01389em">sig</span></span></span></span></span><span style="top:-3.113em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3831em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-3.1264em"><span class="pstrut" style="height:3.75em"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.1667em"></span><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em"><span style="top:-3.69em"><span class="pstrut" style="height:3.008em"></span><span class="mord"><span class="mord">0</span></span></span><span style="top:-2.25em"><span class="pstrut" style="height:3.008em"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em"><span style="top:-3.69em"><span class="pstrut" style="height:3.008em"></span><span class="mord"><span class="mspace" style="margin-right:1em"></span><span class="mord text"><span class="mord textrm">Equivocation at prevote stage</span></span></span></span><span style="top:-2.25em"><span class="pstrut" style="height:3.008em"></span><span class="mord"><span class="mspace" style="margin-right:1em"></span><span class="mord text"><span class="mord textrm">Equivocation at precommit stage</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.1736em"><span></span></span></span></span></span></span></span></span></span></span></span></div><p><strong>where</strong>  </p><ul><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>r</mi><mi>m</mi><msub><mrow><mo fence="true">{</mo><mi>i</mi><mi>d</mi><mo fence="true">}</mo></mrow><mi mathvariant="double-struck">V</mi></msub></mrow><annotation encoding="application/x-tex">{m}{a}{t}{h}{r}{m}{\left\lbrace{i}{d}\right\rbrace}_{{{\mathbb{{{V}}}}}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0497em;vertical-align:-0.2997em"></span><span class="mord"><span class="mord mathnormal">m</span></span><span class="mord"><span class="mord mathnormal">a</span></span><span class="mord"><span class="mord mathnormal">t</span></span><span class="mord"><span class="mord mathnormal">h</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">r</span></span><span class="mord"><span class="mord mathnormal">m</span></span><span class="mord"><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em">{</span><span class="mord"><span class="mord mathnormal">i</span></span><span class="mord"><span class="mord mathnormal">d</span></span><span class="mclose delimcenter" style="top:0em">}</span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1825em"><span style="top:-2.4003em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathbb mtight">V</span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2997em"><span></span></span></span></span></span></span></span></span></span></span> is the authority set id as defined in <a href="/sect-finality#defn-authority-set-id">Definition 78</a>.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">{e}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord"><span class="mord mathnormal">e</span></span></span></span></span></span> indicates the stage at which the equivocation occurred.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">{r}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">r</span></span></span></span></span></span> is the round number the equivocation occurred.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mrow><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>r</mi><mi>m</mi><mrow><mo fence="true">{</mo><mi>i</mi><mi>d</mi><mo fence="true">}</mo></mrow></mrow></msub></mrow><annotation encoding="application/x-tex">{A}_{{{m}{a}{t}{h}{r}{m}{\left\lbrace{i}{d}\right\rbrace}}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0385em;vertical-align:-0.3552em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">A</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em"><span style="top:-2.5198em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">r</span></span><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span><span class="mord mtight"><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em"><span class="mtight">{</span></span><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span><span class="mord mtight"><span class="mord mathnormal mtight">d</span></span><span class="mclose mtight delimcenter" style="top:0em"><span class="mtight">}</span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em"><span></span></span></span></span></span></span></span></span></span></span> is the public key of the equivocator.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>B</mi><mi>h</mi><mn>1</mn></msubsup></mrow><annotation encoding="application/x-tex">{B}^{{1}}_{h}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0972em;vertical-align:-0.2831em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-2.4169em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2831em"><span></span></span></span></span></span></span></span></span></span></span> is the block hash of the first block the equivocator voted for.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>B</mi><mi>n</mi><mn>1</mn></msubsup></mrow><annotation encoding="application/x-tex">{B}^{{1}}_{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0611em;vertical-align:-0.247em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-2.453em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em"><span></span></span></span></span></span></span></span></span></span></span> is the block number of the first block the equivocator voted for.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>A</mi><mrow><mo fence="true">{</mo><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>r</mi><mi>m</mi><mrow><mo fence="true">{</mo><mi>s</mi><mi>i</mi><mi>g</mi><mo fence="true">}</mo></mrow><mo fence="true">}</mo></mrow><mn>1</mn></msubsup></mrow><annotation encoding="application/x-tex">{A}^{{1}}_{\left\lbrace{m}{a}{t}{h}{r}{m}{\left\lbrace{s}{i}{g}\right\rbrace}\right\rbrace}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3111em;vertical-align:-0.497em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">A</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-2.378em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em"><span class="mtight">{</span></span><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">r</span></span><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span><span class="mord mtight"><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em"><span class="mtight">{</span></span><span class="mord mtight"><span class="mord mathnormal mtight">s</span></span><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span></span><span class="mclose mtight delimcenter" style="top:0em"><span class="mtight">}</span></span></span></span><span class="mclose mtight delimcenter" style="top:0em"><span class="mtight">}</span></span></span></span></span></span><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.497em"><span></span></span></span></span></span></span></span></span></span></span> is the equivocators signature of the first vote.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>B</mi><mi>h</mi><mn>2</mn></msubsup></mrow><annotation encoding="application/x-tex">{B}^{{2}}_{h}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0972em;vertical-align:-0.2831em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-2.4169em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2831em"><span></span></span></span></span></span></span></span></span></span></span> is the block hash of the second block the equivocator voted for.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>B</mi><mi>n</mi><mn>2</mn></msubsup></mrow><annotation encoding="application/x-tex">{B}^{{2}}_{n}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0611em;vertical-align:-0.247em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-2.453em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.247em"><span></span></span></span></span></span></span></span></span></span></span> is the block number of the second block the equivocator voted for.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msubsup><mi>A</mi><mrow><mo fence="true">{</mo><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>r</mi><mi>m</mi><mrow><mo fence="true">{</mo><mi>s</mi><mi>i</mi><mi>g</mi><mo fence="true">}</mo></mrow><mo fence="true">}</mo></mrow><mn>2</mn></msubsup></mrow><annotation encoding="application/x-tex">{A}^{{2}}_{\left\lbrace{m}{a}{t}{h}{r}{m}{\left\lbrace{s}{i}{g}\right\rbrace}\right\rbrace}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.3111em;vertical-align:-0.497em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">A</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8141em"><span style="top:-2.378em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em"><span class="mtight">{</span></span><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">r</span></span><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span><span class="mord mtight"><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em"><span class="mtight">{</span></span><span class="mord mtight"><span class="mord mathnormal mtight">s</span></span><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03588em">g</span></span><span class="mclose mtight delimcenter" style="top:0em"><span class="mtight">}</span></span></span></span><span class="mclose mtight delimcenter" style="top:0em"><span class="mtight">}</span></span></span></span></span></span><span style="top:-3.063em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.497em"><span></span></span></span></span></span></span></span></span></span></span> is the equivocators signature of the second vote.</p></li><li><p>A proof of the key owner in an opaque form as described in <a href="/chap-runtime-api#sect-grandpaapi_generate_key_ownership_proof">Section C.10.4.</a>.</p></li></ul></li></ul><p><strong>Return</strong>  </p><ul><li>A SCALE encoded <em>Option</em> as defined in <a href="/id-cryptography-encoding#defn-option-type">Definition 200</a> containing an empty value on success.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-grandpaapi_generate_key_ownership_proof">C.10.4. <code>GrandpaApi_generate_key_ownership_proof</code><a href="#sect-grandpaapi_generate_key_ownership_proof" class="hash-link" aria-label="Direct link to sect-grandpaapi_generate_key_ownership_proof" title="Direct link to sect-grandpaapi_generate_key_ownership_proof">​</a></h3><p>Generates proof of the membership of a key owner in the specified block state. The returned value is used to report equivocations as described in <a href="/chap-runtime-api#sect-grandpaapi_submit_report_equivocation_unsigned_extrinsic">Section C.10.3.</a>.</p><p><strong>Arguments</strong>  </p><ul><li><p>The authority set id as defined in <a href="/sect-finality#defn-authority-set-id">Definition 78</a>.</p></li><li><p>The 256-bit public key of the authority.</p></li></ul><p><strong>Return</strong>  </p><ul><li>A SCALE encoded <em>Option</em> as defined in <a href="/id-cryptography-encoding#defn-option-type">Definition 200</a> containing the proof in an opaque form.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="id-module-babeapi">C.11. Module BabeApi<a href="#id-module-babeapi" class="hash-link" aria-label="Direct link to C.11. Module BabeApi" title="Direct link to C.11. Module BabeApi">​</a></h2><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>This section describes <strong>Version 2</strong> of this API. Please check <code>Core_version</code> (<a href="/chap-runtime-api#defn-rt-core-version">Section C.4.1.</a>) to ensure compatibility.</p></div></div><p>All calls in this module require <code>Core_initialized_block</code> (<a href="/chap-runtime-api#sect-rte-core-initialize-block">Section C.4.3.</a>) to be called beforehand.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rte-babeapi-epoch">C.11.1. <code>BabeApi_configuration</code><a href="#sect-rte-babeapi-epoch" class="hash-link" aria-label="Direct link to sect-rte-babeapi-epoch" title="Direct link to sect-rte-babeapi-epoch">​</a></h3><p>This entry is called to obtain the current configuration of the BABE consensus protocol.</p><p><strong>Arguments</strong>  </p><ul><li>None.</li></ul><p><strong>Return</strong>  </p><ul><li><p>A tuple containing configuration data used by the Babe consensus engine.</p><h6 class="anchor anchorWithStickyNavbar_LWe7" id="tabl-babeapi-configuration">Table 17. The tuple provided by <strong>BabeApi_configuration</strong>.<a href="#tabl-babeapi-configuration" class="hash-link" aria-label="Direct link to tabl-babeapi-configuration" title="Direct link to tabl-babeapi-configuration">​</a></h6><table><thead><tr><th><strong>Name</strong></th><th><strong>Description</strong></th><th><strong>Type</strong></th></tr></thead><tbody><tr><td><em>SlotDuration</em></td><td>The slot duration in milliseconds. Currently, only the value provided by this type at genesis will be used. Dynamic slot duration may be supported in the future.</td><td>Unsigned 64bit integer</td></tr><tr><td><em>EpochLength</em></td><td>The duration of epochs in slots.</td><td>Unsigned 64bit integer</td></tr><tr><td><em>Constant</em></td><td>A constant value that is used in the threshold calculation formula as defined in <a href="/sect-block-production#defn-babe-constant">Definition 64</a>.</td><td>Tuple containing two unsigned 64bit integers</td></tr><tr><td><em>GenesisAuthorities</em></td><td>The authority list for the genesis epoch as defined in <a href="/chap-sync#defn-authority-list">Definition 33</a>.</td><td>Array of tuples containing a 256-bit byte array and an unsigned 64bit integer</td></tr><tr><td><em>Randomness</em></td><td>The randomness for the genesis epoch</td><td>32-byte array</td></tr><tr><td><em>SecondarySlot</em></td><td>Whether this chain should run with a round-robin-style secondary slot and if this secondary slot requires the inclusion of an auxiliary VRF output (<a href="/sect-block-production#sect-block-production-lottery">Section 5.2.</a>).</td><td>A one-byte enum as defined in <a href="/sect-block-production#defn-consensus-message-babe">Definition 63</a> as <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mn>2</mn><mtext>nd</mtext></msub></mrow><annotation encoding="application/x-tex">{2}_{{\text{nd}}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7944em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord">2</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord text mtight"><span class="mord mtight">nd</span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>.</td></tr></tbody></table></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="id-babeapi_current_epoch_start">C.11.2. <code>BabeApi_current_epoch_start</code><a href="#id-babeapi_current_epoch_start" class="hash-link" aria-label="Direct link to id-babeapi_current_epoch_start" title="Direct link to id-babeapi_current_epoch_start">​</a></h3><p>Finds the start slot of the current epoch.</p><p><strong>Arguments</strong>  </p><ul><li>None.</li></ul><p><strong>Return</strong>  </p><ul><li>A unsigned 64-bit integer indicating the slot number.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-babeapi_current_epoch">C.11.3. <code>BabeApi_current_epoch</code><a href="#sect-babeapi_current_epoch" class="hash-link" aria-label="Direct link to sect-babeapi_current_epoch" title="Direct link to sect-babeapi_current_epoch">​</a></h3><p>Produces information about the current epoch.</p><p><strong>Arguments</strong>  </p><ul><li>None.</li></ul><p><strong>Return</strong>  </p><ul><li><p>A data structure of the following format:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">(</mo><msub><mi>e</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>s</mi><mi>s</mi></msub><mo separator="true">,</mo><mi>d</mi><mo separator="true">,</mo><mi>A</mi><mo separator="true">,</mo><mi>r</mi><mo fence="true">)</mo></mrow><annotation encoding="application/x-tex">{\left({e}_{{i}},{s}_{{s}},{d},{A},{r}\right)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em">(</span><span class="mord"><span class="mord"><span class="mord mathnormal">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">s</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">d</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">A</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">r</span></span><span class="mclose delimcenter" style="top:0em">)</span></span></span></span></span></span></span></div><p><strong>where</strong>  </p><ul><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>e</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">{e}_{{i}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">e</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is a unsigned 64-bit integer representing the epoch index.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>s</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">{s}_{{s}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">s</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">s</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is an unsigned 64-bit integer representing the starting slot of the epoch.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi></mrow><annotation encoding="application/x-tex">{d}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord"><span class="mord mathnormal">d</span></span></span></span></span></span> is an unsigned 64-bit integer representing the duration of the epoch.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">{A}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord"><span class="mord mathnormal">A</span></span></span></span></span></span> is an authority list as defined in <a href="/chap-sync#defn-authority-list">Definition 33</a>.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">{r}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02778em">r</span></span></span></span></span></span> is a 256-bit array containing the randomness for the epoch as defined in <a href="/sect-block-production#defn-epoch-randomness">Definition 76</a>.</p></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="id-babeapi_next_epoch">C.11.4. <code>BabeApi_next_epoch</code><a href="#id-babeapi_next_epoch" class="hash-link" aria-label="Direct link to id-babeapi_next_epoch" title="Direct link to id-babeapi_next_epoch">​</a></h3><p>Produces information about the next epoch.</p><p><strong>Arguments</strong>  </p><ul><li>None.</li></ul><p><strong>Return</strong>  </p><ul><li>Returns the same data structure as described in <a href="/chap-runtime-api#sect-babeapi_current_epoch">Section C.11.3.</a>.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-babeapi_generate_key_ownership_proof">C.11.5. <code>BabeApi_generate_key_ownership_proof</code><a href="#sect-babeapi_generate_key_ownership_proof" class="hash-link" aria-label="Direct link to sect-babeapi_generate_key_ownership_proof" title="Direct link to sect-babeapi_generate_key_ownership_proof">​</a></h3><p>Generates proof of the membership of a key owner in the specified block state. The returned value is used to report equivocations as described in <a href="/chap-runtime-api#sect-babeapi_submit_report_equivocation_unsigned_extrinsic">Section C.11.6.</a>.</p><p><strong>Arguments</strong>  </p><ul><li><p>The unsigned 64-bit integer indicating the slot number.</p></li><li><p>The 256-bit public key of the authority.</p></li></ul><p><strong>Return</strong>  </p><ul><li>A SCALE encoded <em>Option</em> as defined in Definition <a href="/id-cryptography-encoding#defn-option-type">Definition 200</a> containing the proof in an opaque form.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-babeapi_submit_report_equivocation_unsigned_extrinsic">C.11.6. <code>BabeApi_submit_report_equivocation_unsigned_extrinsic</code><a href="#sect-babeapi_submit_report_equivocation_unsigned_extrinsic" class="hash-link" aria-label="Direct link to sect-babeapi_submit_report_equivocation_unsigned_extrinsic" title="Direct link to sect-babeapi_submit_report_equivocation_unsigned_extrinsic">​</a></h3><p>A BABE equivocation occurs when a validator produces more than one block at the same slot. The proof of equivocation are the given distinct headers that were signed by the validator and which include the slot number. The Polkadot Host is expected to identify equivocators and report those to the Runtime using this function.</p><div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>If there are more than two blocks that cause an equivocation, the equivocation only needs to be reported once i.e. no additional equivocations must be reported for the same slot.</p></div></div><p><strong>Arguments</strong>  </p><ul><li><p>The equivocation proof of the following format:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>B</mi><mrow><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>r</mi><mi>m</mi><mrow><mo fence="true">{</mo><mi>E</mi><mi>p</mi><mo fence="true">}</mo></mrow></mrow></msub><mo>=</mo><mrow><mo fence="true">(</mo><msub><mi>A</mi><mrow><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>r</mi><mi>m</mi><mrow><mo fence="true">{</mo><mi>i</mi><mi>d</mi><mo fence="true">}</mo></mrow></mrow></msub><mo separator="true">,</mo><mi>s</mi><mo separator="true">,</mo><msub><mi>h</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>h</mi><mn>2</mn></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">{B}_{{{m}{a}{t}{h}{r}{m}{\left\lbrace{E}{p}\right\rbrace}}}={\left({A}_{{{m}{a}{t}{h}{r}{m}{\left\lbrace{i}{d}\right\rbrace}}},{s},{h}_{{1}},{h}_{{2}}\right)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0385em;vertical-align:-0.3552em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.05017em">B</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em"><span style="top:-2.5198em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">r</span></span><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span><span class="mord mtight"><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em"><span class="mtight">{</span></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05764em">E</span></span><span class="mord mtight"><span class="mord mathnormal mtight">p</span></span><span class="mclose mtight delimcenter" style="top:0em"><span class="mtight">}</span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.2052em;vertical-align:-0.3552em"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord"><span class="mord mathnormal">A</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em"><span style="top:-2.5198em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">r</span></span><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span><span class="mord mtight"><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em"><span class="mtight">{</span></span><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span><span class="mord mtight"><span class="mord mathnormal mtight">d</span></span><span class="mclose mtight delimcenter" style="top:0em"><span class="mtight">}</span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">s</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">h</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">h</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size1">)</span></span></span></span></span></span></span></span></div><p><strong>where</strong>  </p><ul><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>A</mi><mrow><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>r</mi><mi>m</mi><mrow><mo fence="true">{</mo><mi>i</mi><mi>d</mi><mo fence="true">}</mo></mrow></mrow></msub></mrow><annotation encoding="application/x-tex">{A}_{{{m}{a}{t}{h}{r}{m}{\left\lbrace{i}{d}\right\rbrace}}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0385em;vertical-align:-0.3552em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">A</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em"><span style="top:-2.5198em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">r</span></span><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span><span class="mord mtight"><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em"><span class="mtight">{</span></span><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span><span class="mord mtight"><span class="mord mathnormal mtight">d</span></span><span class="mclose mtight delimcenter" style="top:0em"><span class="mtight">}</span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em"><span></span></span></span></span></span></span></span></span></span></span> is the public key of the equivocator.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi></mrow><annotation encoding="application/x-tex">{s}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord"><span class="mord mathnormal">s</span></span></span></span></span></span> is the slot as described in <a href="/sect-block-production#defn-epoch-slot">Definition 59</a> at which the equivocation occurred.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>h</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">{h}_{{1}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">h</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is the block header of the first block produced by the equivocator.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>h</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">{h}_{{2}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8444em;vertical-align:-0.15em"></span><span class="mord"><span class="mord"><span class="mord mathnormal">h</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is the block header of the second block produced by the equivocator.</p><p>Unlike during block execution, the Seal in both block headers is not removed before submission. The block headers are submitted in its full form.</p></li></ul></li><li><p>An proof of the key owner in an opaque form as described in <a href="/chap-runtime-api#sect-babeapi_generate_key_ownership_proof">Section C.11.5.</a>.</p></li></ul><p><strong>Return</strong>  </p><ul><li>A SCALE encoded <em>Option</em> as defined in <a href="/id-cryptography-encoding#defn-option-type">Definition 200</a> containing an empty value on success.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="id-module-authoritydiscoveryapi">C.12. Module AuthorityDiscoveryApi<a href="#id-module-authoritydiscoveryapi" class="hash-link" aria-label="Direct link to C.12. Module AuthorityDiscoveryApi" title="Direct link to C.12. Module AuthorityDiscoveryApi">​</a></h2><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>This section describes <strong>Version 1</strong> of this API. Please check <code>Core_version</code> (<a href="/chap-runtime-api#defn-rt-core-version">Section C.4.1.</a>) to ensure compatibility.</p></div></div><p>All calls in this module require (Section <a href="/chap-runtime-api#sect-rte-core-initialize-block">Section C.4.3.</a>) to be called beforehand.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="id-authoritydiscoveryapi_authorities">C.12.1. <code>AuthorityDiscoveryApi_authorities</code><a href="#id-authoritydiscoveryapi_authorities" class="hash-link" aria-label="Direct link to id-authoritydiscoveryapi_authorities" title="Direct link to id-authoritydiscoveryapi_authorities">​</a></h3><p>A function that helps to discover authorities.</p><p><strong>Arguments</strong>  </p><ul><li>None.</li></ul><p><strong>Return</strong>  </p><ul><li>A byte array of varying size containing 256-bit public keys of the authorities.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sect-runtime-sessionkeys-module">C.13. Module SessionKeys<a href="#sect-runtime-sessionkeys-module" class="hash-link" aria-label="Direct link to C.13. Module SessionKeys" title="Direct link to C.13. Module SessionKeys">​</a></h2><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>This section describes <strong>Version 1</strong> of this API. Please check <code>Core_version</code> (<a href="/chap-runtime-api#defn-rt-core-version">Section C.4.1.</a>) to ensure compatibility.</p></div></div><p>All calls in this module require <code>Core_initialize_block</code> (<a href="/chap-runtime-api#sect-rte-core-initialize-block">Section C.4.3.</a>) to be called beforehand.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="id-sessionkeys_generate_session_keys">C.13.1. <code>SessionKeys_generate_session_keys</code><a href="#id-sessionkeys_generate_session_keys" class="hash-link" aria-label="Direct link to id-sessionkeys_generate_session_keys" title="Direct link to id-sessionkeys_generate_session_keys">​</a></h3><p>Generates a set of session keys with an optional seed. The keys should be stored within the keystore exposed by the Host API. The seed needs to be valid and UTF-8 encoded.</p><p><strong>Arguments</strong>  </p><ul><li>A SCALE-encoded <em>Option</em> as defined in <a href="/id-cryptography-encoding#defn-option-type">Definition 200</a> containing an array of varying sizes indicating the seed.</li></ul><p><strong>Return</strong>  </p><ul><li>A byte array of varying size containing the encoded session keys.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="id-sessionkeys_decode_session_keys">C.13.2. <code>SessionKeys_decode_session_keys</code><a href="#id-sessionkeys_decode_session_keys" class="hash-link" aria-label="Direct link to id-sessionkeys_decode_session_keys" title="Direct link to id-sessionkeys_decode_session_keys">​</a></h3><p>Decodes the given public session keys. Returns a list of raw public keys, including their key type.</p><p><strong>Arguments</strong>  </p><ul><li>An array of varying size containing the encoded public session keys.</li></ul><p><strong>Return</strong>  </p><ul><li><p>An array of varying size containing tuple pairs of the following format:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">(</mo><mi>k</mi><mo separator="true">,</mo><msub><mi>k</mi><mrow><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>r</mi><mi>m</mi><mrow><mo fence="true">{</mo><mi>i</mi><mi>d</mi><mo fence="true">}</mo></mrow></mrow></msub><mo fence="true">)</mo></mrow><annotation encoding="application/x-tex">{\left({k},{k}_{{{m}{a}{t}{h}{r}{m}{\left\lbrace{i}{d}\right\rbrace}}}\right)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2052em;vertical-align:-0.3552em"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em"><span class="delimsizing size1">(</span></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em">k</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em"><span style="top:-2.5198em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">r</span></span><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span><span class="mord mtight"><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em"><span class="mtight">{</span></span><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span><span class="mord mtight"><span class="mord mathnormal mtight">d</span></span><span class="mclose mtight delimcenter" style="top:0em"><span class="mtight">}</span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em"><span class="delimsizing size1">)</span></span></span></span></span></span></span></span></div><p>where <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">{k}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em">k</span></span></span></span></span></span> is an array of varying sizes containing the raw public key and <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>k</mi><mrow><mi>m</mi><mi>a</mi><mi>t</mi><mi>h</mi><mi>r</mi><mi>m</mi><mrow><mo fence="true">{</mo><mi>i</mi><mi>d</mi><mo fence="true">}</mo></mrow></mrow></msub></mrow><annotation encoding="application/x-tex">{k}_{{{m}{a}{t}{h}{r}{m}{\left\lbrace{i}{d}\right\rbrace}}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0496em;vertical-align:-0.3552em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em">k</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em"><span style="top:-2.5198em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span><span class="mord mtight"><span class="mord mathnormal mtight">h</span></span><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02778em">r</span></span><span class="mord mtight"><span class="mord mathnormal mtight">m</span></span><span class="mord mtight"><span class="minner mtight"><span class="mopen mtight delimcenter" style="top:0em"><span class="mtight">{</span></span><span class="mord mtight"><span class="mord mathnormal mtight">i</span></span><span class="mord mtight"><span class="mord mathnormal mtight">d</span></span><span class="mclose mtight delimcenter" style="top:0em"><span class="mtight">}</span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.3552em"><span></span></span></span></span></span></span></span></span></span></span> is a 4-byte array indicating the key type.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="id-module-accountnonceapi">C.14. Module AccountNonceApi<a href="#id-module-accountnonceapi" class="hash-link" aria-label="Direct link to C.14. Module AccountNonceApi" title="Direct link to C.14. Module AccountNonceApi">​</a></h2><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>This section describes <strong>Version 1</strong> of this API. Please check <code>Core_version</code> (<a href="/chap-runtime-api#defn-rt-core-version">Section C.4.1.</a>) to ensure compatibility.</p></div></div><p>All calls in this module require <code>Core_initialize_block</code> (<a href="/chap-runtime-api#sect-rte-core-initialize-block">Section C.4.3.</a>) to be called beforehand.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-accountnonceapi-account-nonce">C.14.1. <code>AccountNonceApi_account_nonce</code><a href="#sect-accountnonceapi-account-nonce" class="hash-link" aria-label="Direct link to sect-accountnonceapi-account-nonce" title="Direct link to sect-accountnonceapi-account-nonce">​</a></h3><p>Get the current nonce of an account. This function can be used by the Polkadot Host implementation when it seems appropriate, such as for the JSON-RPC API as described in <a href="/chap-runtime-api#sect-json-rpc-api">Section C.1.1.</a>.</p><p><strong>Arguments</strong>  </p><ul><li>The 256-bit public key of the account.</li></ul><p><strong>Return</strong>  </p><ul><li>A 32-bit unsigned integer indicating the nonce of the account.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sect-runtime-transactionpaymentapi-module">C.15. Module TransactionPaymentApi<a href="#sect-runtime-transactionpaymentapi-module" class="hash-link" aria-label="Direct link to C.15. Module TransactionPaymentApi" title="Direct link to C.15. Module TransactionPaymentApi">​</a></h2><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>This section describes <strong>Version 2</strong> of this API. Please check <code>Core_version</code> (<a href="/chap-runtime-api#defn-rt-core-version">Section C.4.1.</a>) to ensure compatibility.</p></div></div><p>All calls in this module require <code>Core_initialize_block</code> (<a href="/chap-runtime-api#sect-rte-core-initialize-block">Section C.4.3.</a>) to be called beforehand.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rte-transactionpaymentapi-query-info">C.15.1. <code>TransactionPaymentApi_query_info</code><a href="#sect-rte-transactionpaymentapi-query-info" class="hash-link" aria-label="Direct link to sect-rte-transactionpaymentapi-query-info" title="Direct link to sect-rte-transactionpaymentapi-query-info">​</a></h3><p>Returns information of a given extrinsic. This function is not aware of the internals of an extrinsic, but only interprets the extrinsic as some encoded value and accounts for its weight and length, the Runtime’s extrinsic base weight, and the current fee multiplier.</p><p>This function can be used by the Polkadot Host implementation when it seems appropriate, such as for the JSON-RPC API as described in <a href="/chap-runtime-api#sect-json-rpc-api">Section C.1.1.</a>.</p><p><strong>Arguments</strong>  </p><ul><li><p>A byte array of varying sizes containing the extrinsic.</p></li><li><p>The length of the extrinsic. <!-- -->[<!-- -->To do: why is this needed?<!-- -->]</p></li></ul><p><strong>Return</strong>  </p><ul><li><p>A data structure of the following format:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">(</mo><mi>w</mi><mo separator="true">,</mo><mi>c</mi><mo separator="true">,</mo><mi>f</mi><mo fence="true">)</mo></mrow><annotation encoding="application/x-tex">{\left({w},{c},{f}\right)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em">w</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">c</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em">f</span></span><span class="mclose delimcenter" style="top:0em">)</span></span></span></span></span></span></span></div><p><strong>where</strong>  </p><ul><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">{w}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.02691em">w</span></span></span></span></span></span> is the weight of the extrinsic.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">{c}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord"><span class="mord mathnormal">c</span></span></span></span></span></span> is the &quot;class&quot; of the extrinsic, where a class is a varying data (<a href="/id-cryptography-encoding#defn-varrying-data-type">Definition 198</a>) type defined as:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>c</mi><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mspace width="1em"></mspace><mtext>Normal extrinsic</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mspace width="1em"></mspace><mtext>Operational extrinsic</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>2</mn><mspace width="1em"></mspace><mtext>Mandatory extrinsic, which is always included</mtext></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">c = \left\{ \begin{array}{l} 0 \quad \textrm{Normal extrinsic} \\ 1 \quad \textrm{Operational extrinsic} \\ 2 \quad \textrm{Mandatory extrinsic, which is always included} \end{array} \right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.5em"><span class="pstrut" style="height:3.15em"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.492em"><span class="pstrut" style="height:3.15em"></span><span style="height:0.016em;width:0.8889em"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.016em" style="width:0.8889em" viewBox="0 0 888.89 16" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V16 H384z M384 0 H504 V16 H384z"></path></svg></span></span><span style="top:-3.15em"><span class="pstrut" style="height:3.15em"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.292em"><span class="pstrut" style="height:3.15em"></span><span style="height:0.016em;width:0.8889em"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.016em" style="width:0.8889em" viewBox="0 0 888.89 16" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V16 H384z M384 0 H504 V16 H384z"></path></svg></span></span><span style="top:-4.3em"><span class="pstrut" style="height:3.15em"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span><span class="mspace" style="margin-right:1em"></span><span class="mord text"><span class="mord textrm">Normal extrinsic</span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:1em"></span><span class="mord text"><span class="mord textrm">Operational extrinsic</span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span><span class="mspace" style="margin-right:1em"></span><span class="mord text"><span class="mord textrm">Mandatory extrinsic, which is always included</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></div></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">{f}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em">f</span></span></span></span></span></span> is the inclusion fee of the extrinsic. This does not include a tip or anything else that depends on the signature.</p></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rte-transactionpaymentapi-query-fee-details">C.15.2. <code>TransactionPaymentApi_query_fee_details</code><a href="#sect-rte-transactionpaymentapi-query-fee-details" class="hash-link" aria-label="Direct link to sect-rte-transactionpaymentapi-query-fee-details" title="Direct link to sect-rte-transactionpaymentapi-query-fee-details">​</a></h3><p>Query the detailed fee of a given extrinsic. This function can be used by the Polkadot Host implementation when it seems appropriate, such as for the JSON-RPC API as described in <a href="/chap-runtime-api#sect-json-rpc-api">Section C.1.1.</a>.</p><p><strong>Arguments</strong>  </p><ul><li><p>A byte array of varying sizes containing the extrinsic.</p></li><li><p>The length of the extrinsic.</p></li></ul><p><strong>Return</strong>  </p><ul><li><p>A data structure of the following format:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo fence="true">(</mo><mi>f</mi><mo separator="true">,</mo><mi>t</mi><mo fence="true">)</mo></mrow><annotation encoding="application/x-tex">{\left({f},{t}\right)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em">f</span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">t</span></span><span class="mclose delimcenter" style="top:0em">)</span></span></span></span></span></span></span></div><p><strong>where</strong>  </p><ul><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">{f}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em">f</span></span></span></span></span></span> is a SCALE encoded as defined in <a href="/id-cryptography-encoding#defn-option-type">Definition 200</a> containing the following data structure:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo>=</mo><mrow><mo fence="true">(</mo><mrow><msub><mi>f</mi><mi>b</mi></msub><mo separator="true">,</mo></mrow><mrow><msub><mi>f</mi><mi>l</mi></msub><mo separator="true">,</mo></mrow><msub><mi>f</mi><mi>a</mi></msub><mo fence="true">)</mo></mrow></mrow><annotation encoding="application/x-tex">{f}={\left({{f}_{{b}},}{{f}_{{l}},}{f}_{{a}}\right)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em">f</span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord"><span class="minner"><span class="mopen delimcenter" style="top:0em">(</span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em">f</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">b</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span></span><span class="mord"><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em">f</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em">l</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em">f</span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose delimcenter" style="top:0em">)</span></span></span></span></span></span></span></div><p><strong>where</strong>  </p><ul><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mi>b</mi></msub></mrow><annotation encoding="application/x-tex">{f_b}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span></span> is the minimum required fee for an extrinsic.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mi>l</mi></msub></mrow><annotation encoding="application/x-tex">{f_l}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span></span> is the length fee, the amount paid for the encoded length (in bytes) of the extrinsic.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mi>a</mi></msub></mrow><annotation encoding="application/x-tex">{f_a}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span></span> is the “adjusted weight fee,” which is a multiplication of the fee multiplier and the weight fee. The fee multiplier varies depending on the usage of the network.</p></li></ul></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">{t}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em"></span><span class="mord"><span class="mord mathnormal">t</span></span></span></span></span></span> is the tip for the block author.</p></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="sect-runtime-transactionpaymentcallapi-module">C.16. Module TransactionPaymentCallApi<a href="#sect-runtime-transactionpaymentcallapi-module" class="hash-link" aria-label="Direct link to C.16. Module TransactionPaymentCallApi" title="Direct link to C.16. Module TransactionPaymentCallApi">​</a></h2><p>All calls in this module require <code>Core_initialize_block</code> (<a href="/chap-runtime-api#sect-rte-core-initialize-block">Section C.4.3.</a>) to be called beforehand.</p><div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>TODO clarify differences between <em>RuntimeCall</em> and <em>Extrinsics</em></p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rte-transactionpaymentcallapi-query-call-info">C.16.1. <code>TransactionPaymentCallApi_query_call_info</code><a href="#sect-rte-transactionpaymentcallapi-query-call-info" class="hash-link" aria-label="Direct link to sect-rte-transactionpaymentcallapi-query-call-info" title="Direct link to sect-rte-transactionpaymentcallapi-query-call-info">​</a></h3><p>Query information of a dispatch class, weight, and fee of a given encoded <code>Call</code>.</p><p><strong>Arguments</strong></p><ul><li>A byte array of varying sizes containing the <code>Call</code>.</li><li>The length of the Call. </li></ul><p><strong>Return</strong></p><ul><li><p>A data structure of the following format:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><mi>w</mi><mo separator="true">,</mo><mi>c</mi><mo separator="true">,</mo><mi>f</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(w, c, f)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="mclose">)</span></span></span></span></span></div><p><strong>where</strong>:</p><ul><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.02691em">w</span></span></span></span></span> is the weight of the call.</p></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi></mrow><annotation encoding="application/x-tex">c</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">c</span></span></span></span></span> is the &quot;class&quot; of the call, where a class is a  varying data (<a href="/id-cryptography-encoding#defn-varrying-data-type">Definition 198</a>) type defined as:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>c</mi><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.16em" columnalign="left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mspace width="1em"></mspace><mtext>Normal dispatch</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>1</mn><mspace width="1em"></mspace><mtext>Operational dispatch</mtext></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>2</mn><mspace width="1em"></mspace><mtext>Mandatory dispatch, which is always included regardless of their weight</mtext></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding="application/x-tex">c = \left\{\begin{array}{l} 0 \quad \textrm{Normal dispatch}\\ 1 \quad \textrm{Operational dispatch}\\ 2 \quad \textrm{Mandatory dispatch, which is always included regardless of their weight} \end{array}\right.</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:3.6em;vertical-align:-1.55em"></span><span class="minner"><span class="mopen"><span class="delimsizing mult"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-2.5em"><span class="pstrut" style="height:3.15em"></span><span class="delimsizinginner delim-size4"><span>⎩</span></span></span><span style="top:-2.492em"><span class="pstrut" style="height:3.15em"></span><span style="height:0.016em;width:0.8889em"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.016em" style="width:0.8889em" viewBox="0 0 888.89 16" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V16 H384z M384 0 H504 V16 H384z"></path></svg></span></span><span style="top:-3.15em"><span class="pstrut" style="height:3.15em"></span><span class="delimsizinginner delim-size4"><span>⎨</span></span></span><span style="top:-4.292em"><span class="pstrut" style="height:3.15em"></span><span style="height:0.016em;width:0.8889em"><svg xmlns="http://www.w3.org/2000/svg" width="0.8889em" height="0.016em" style="width:0.8889em" viewBox="0 0 888.89 16" preserveAspectRatio="xMinYMin"><path d="M384 0 H504 V16 H384z M384 0 H504 V16 H384z"></path></svg></span></span><span style="top:-4.3em"><span class="pstrut" style="height:3.15em"></span><span class="delimsizinginner delim-size4"><span>⎧</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span></span><span class="mord"><span class="mtable"><span class="arraycolsep" style="width:0.5em"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.05em"><span style="top:-4.21em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">0</span><span class="mspace" style="margin-right:1em"></span><span class="mord text"><span class="mord textrm">Normal dispatch</span></span></span></span><span style="top:-3.01em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">1</span><span class="mspace" style="margin-right:1em"></span><span class="mord text"><span class="mord textrm">Operational dispatch</span></span></span></span><span style="top:-1.81em"><span class="pstrut" style="height:3em"></span><span class="mord"><span class="mord">2</span><span class="mspace" style="margin-right:1em"></span><span class="mord text"><span class="mord textrm">Mandatory dispatch, which is always included regardless of their weight</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.55em"><span></span></span></span></span></span><span class="arraycolsep" style="width:0.5em"></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span></span></div></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.10764em">f</span></span></span></span></span> is the partial-fee of the call. This does not include a tip or anything else that depends on the signature.</p></li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-rte-transactionpaymentcallapi-query-call-fee-details">C.16.2. <code>TransactionPaymentCallApi_query_call_fee_details</code><a href="#sect-rte-transactionpaymentcallapi-query-call-fee-details" class="hash-link" aria-label="Direct link to sect-rte-transactionpaymentcallapi-query-call-fee-details" title="Direct link to sect-rte-transactionpaymentcallapi-query-call-fee-details">​</a></h3><p>Query the fee details of a given encoded <code>Call</code> including tip. </p><p><strong>Arguments</strong></p><ul><li>A byte array of varying sizes containing the <code>Call</code>.</li><li>The length of the <code>Call</code>.</li></ul><p><strong>Return</strong></p><ul><li><p>A data structure of the following format:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo stretchy="false">(</mo><mi>f</mi><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(f, t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span></span></div><p><strong>where</strong>:</p><ul><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.10764em">f</span></span></span></span></span> is a SCALE encoded as defined in <a href="/id-cryptography-encoding#defn-option-type">Definition 200</a> containing the following data structure:</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mo>=</mo><mo stretchy="false">(</mo><msub><mi>f</mi><mi>b</mi></msub><mo separator="true">,</mo><msub><mi>f</mi><mi>l</mi></msub><mo separator="true">,</mo><msub><mi>f</mi><mi>a</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f = (f_b, f_l, f_a)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></div><p><strong>where</strong>:</p><ul><li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mi>b</mi></msub></mrow><annotation encoding="application/x-tex">f_b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is the minimum required fee for the <code>Call</code>.</li><li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mi>l</mi></msub></mrow><annotation encoding="application/x-tex">f_l</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.01968em">l</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is the length fee, the amount paid for the encoded length (in bytes) of the <code>Call</code>.</li><li><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mi>a</mi></msub></mrow><annotation encoding="application/x-tex">f_a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span> is the &quot;<code>adjusted weight fee</code>&quot;, which is a multiplication of the fee multiplier and the weight fee. The fee multiplier varies depending on the usage of the network.</li></ul></li><li><p><span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>t</mi></mrow><annotation encoding="application/x-tex">t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6151em"></span><span class="mord mathnormal">t</span></span></span></span></span> is the tip for the block author.</p></li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="id-module-nomination-pools">C.17. Module Nomination Pools<a href="#id-module-nomination-pools" class="hash-link" aria-label="Direct link to C.17. Module Nomination Pools" title="Direct link to C.17. Module Nomination Pools">​</a></h2><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>This section describes <strong>Version 1</strong> of this API. Please check <code>Core_version</code> (<a href="/chap-runtime-api#defn-rt-core-version">Section C.4.1.</a>) to ensure compatibility.
Currently supports only one RPC endpoint.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-nominationpoolsapi-pending-rewards">C.17.1. <code>NominationPoolsApi_pending_rewards</code><a href="#sect-nominationpoolsapi-pending-rewards" class="hash-link" aria-label="Direct link to sect-nominationpoolsapi-pending-rewards" title="Direct link to sect-nominationpoolsapi-pending-rewards">​</a></h3><p>Runtime API for accessing information about the nomination pools. Returns the pending rewards for the member that the Account ID was given for.</p><p><strong>Arguments</strong></p><ul><li>The account ID as a SCALE encoded 32-byte address of the sender (<a href="/id-extrinsics#defn-extrinsic-address">Definition 154</a>).</li></ul><p><strong>Return</strong></p><ul><li>The SCALE encoded balance of type <code>u128</code> representing the pending reward of the account ID. The default value is Zero in case of errors in fetching the rewards.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-nominationpoolsapi-points-to-balance">C.17.2. <code>NominationPoolsApi_points_to_balance</code><a href="#sect-nominationpoolsapi-points-to-balance" class="hash-link" aria-label="Direct link to sect-nominationpoolsapi-points-to-balance" title="Direct link to sect-nominationpoolsapi-points-to-balance">​</a></h3><p>Runtime API to convert the number of points to balances given the current pool state, which is often used for unbonding. </p><p><strong>Arguments</strong></p><ul><li>An unsigned 32-bit integer representing Pool Identifier </li><li>An unsigned 32-bit integer Points</li></ul><p><strong>Return</strong></p><ul><li>An unsigned 32-bit integer Balance</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sect-nominationpoolsapi-balance-to-points">C.17.3. <code>NominationPoolsApi_balance_to_points</code><a href="#sect-nominationpoolsapi-balance-to-points" class="hash-link" aria-label="Direct link to sect-nominationpoolsapi-balance-to-points" title="Direct link to sect-nominationpoolsapi-balance-to-points">​</a></h3><p>Runtime API to convert the given amount of balances to points for the current pool state, which is often used for bonding and issuing new funds in to the pool. </p><p><strong>Arguments</strong></p><ul><li>An unsigned 32-bit integer representing Pool Identifier </li><li>An unsigned 32-bit integer Balance</li></ul><p><strong>Return</strong></p><ul><li>An unsigned 32-bit integer Points</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/w3f/polkadot-spec/blob/main/docs/chap-runtime-api.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/chap-host-api"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Appendix B: Host API</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/id-glossary"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Glossary</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#id-general-information" class="table-of-contents__link toc-highlight">C.1. General Information</a><ul><li><a href="#sect-json-rpc-api" class="table-of-contents__link toc-highlight">C.1.1. JSON-RPC API for external services</a></li></ul></li><li><a href="#id-runtime-constants" class="table-of-contents__link toc-highlight">C.2. Runtime Constants</a><ul><li><a href="#id-__heap_base" class="table-of-contents__link toc-highlight">C.2.1. <code>__heap_base</code></a></li></ul></li><li><a href="#id-runtime-call-convention" class="table-of-contents__link toc-highlight">C.3. Runtime Call Convention</a></li><li><a href="#sect-runtime-core-module" class="table-of-contents__link toc-highlight">C.4. Module Core</a><ul><li><a href="#defn-rt-core-version" class="table-of-contents__link toc-highlight">C.4.1. <code>Core_version</code></a></li><li><a href="#sect-rte-core-execute-block" class="table-of-contents__link toc-highlight">C.4.2. <code>Core_execute_block</code></a></li><li><a href="#sect-rte-core-initialize-block" class="table-of-contents__link toc-highlight">C.4.3. <code>Core_initialize_block</code></a></li></ul></li><li><a href="#sect-runtime-metadata-module" class="table-of-contents__link toc-highlight">C.5. Module Metadata</a><ul><li><a href="#sect-rte-metadata-metadata" class="table-of-contents__link toc-highlight">C.5.1. <code>Metadata_metadata</code></a></li><li><a href="#sect-rte-metadata-metadata-at-version" class="table-of-contents__link toc-highlight">C.5.2. <code>Metadata_metadata_at_version</code></a></li><li><a href="#sect-rte-metadata-metadata-versions" class="table-of-contents__link toc-highlight">C.5.3. <code>Metadata_metadata_versions</code></a></li></ul></li><li><a href="#sect-runtime-blockbuilder-module" class="table-of-contents__link toc-highlight">C.6. Module BlockBuilder</a><ul><li><a href="#sect-rte-apply-extrinsic" class="table-of-contents__link toc-highlight">C.6.1. <code>BlockBuilder_apply_extrinsic</code></a></li><li><a href="#defn-rt-blockbuilder-finalize-block" class="table-of-contents__link toc-highlight">C.6.2. <code>BlockBuilder_finalize_block</code></a></li><li><a href="#defn-rt-builder-inherent-extrinsics" class="table-of-contents__link toc-highlight">C.6.3. <code>BlockBuilder_inherent_extrinisics</code>:</a></li><li><a href="#id-blockbuilder_check_inherents" class="table-of-contents__link toc-highlight">C.6.4. <code>BlockBuilder_check_inherents</code></a></li></ul></li><li><a href="#sect-runtime-txqueue-module" class="table-of-contents__link toc-highlight">C.7. Module TaggedTransactionQueue</a><ul><li><a href="#sect-rte-validate-transaction" class="table-of-contents__link toc-highlight">C.7.1. <code>TaggedTransactionQueue_validate_transaction</code></a></li></ul></li><li><a href="#sect-runtime-offchainapi-module" class="table-of-contents__link toc-highlight">C.8. Module OffchainWorkerApi</a><ul><li><a href="#id-offchainworkerapi_offchain_worker" class="table-of-contents__link toc-highlight">C.8.1. <code>OffchainWorkerApi_offchain_worker</code></a></li></ul></li><li><a href="#sect-anv-runtime-api" class="table-of-contents__link toc-highlight">C.9. Module ParachainHost</a><ul><li><a href="#sect-rt-api-validators" class="table-of-contents__link toc-highlight">C.9.1. <code>ParachainHost_validators</code></a></li><li><a href="#sect-rt-api-validator-groups" class="table-of-contents__link toc-highlight">C.9.2. <code>ParachainHost_validator_groups</code></a></li><li><a href="#sect-rt-api-availability-cores" class="table-of-contents__link toc-highlight">C.9.3. <code>ParachainHost_availability_cores</code></a></li><li><a href="#sect-rt-api-persisted-validation-data" class="table-of-contents__link toc-highlight">C.9.4. <code>ParachainHost_persisted_validation_data</code></a></li><li><a href="#sect-rt-api-assumed-validation-data" class="table-of-contents__link toc-highlight">C.9.5. <code>ParachainHost_assumed_validation_data</code></a></li><li><a href="#id-parachainhost_check_validation_outputs" class="table-of-contents__link toc-highlight">C.9.6. <code>ParachainHost_check_validation_outputs</code></a></li><li><a href="#id-parachainhost_session_index_for_child" class="table-of-contents__link toc-highlight">C.9.7. <code>ParachainHost_session_index_for_child</code></a></li><li><a href="#sect-rt-api-validation-code" class="table-of-contents__link toc-highlight">C.9.8. <code>ParachainHost_validation_code</code></a></li><li><a href="#sect-rt-api-validation-code-by-hash" class="table-of-contents__link toc-highlight">C.9.9. <code>ParachainHost_validation_code_by_hash</code></a></li><li><a href="#sect-rt-api-validation-code-hash" class="table-of-contents__link toc-highlight">C.9.10. <code>ParachainHost_validation_code_hash</code></a></li><li><a href="#id-parachainhost_candidate_pending_availability" class="table-of-contents__link toc-highlight">C.9.11. <code>ParachainHost_candidate_pending_availability</code></a></li><li><a href="#id-parachainhost_candidate_events" class="table-of-contents__link toc-highlight">C.9.12. <code>ParachainHost_candidate_events</code></a></li><li><a href="#sect-rt-api-session-info" class="table-of-contents__link toc-highlight">C.9.13. <code>ParachainHost_session_info</code></a></li><li><a href="#id-parachainhost_dmq_contents" class="table-of-contents__link toc-highlight">C.9.14. <code>ParachainHost_dmq_contents</code></a></li><li><a href="#id-parachainhost_inbound_hrmp_channels_contents" class="table-of-contents__link toc-highlight">C.9.15. <code>ParachainHost_inbound_hrmp_channels_contents</code></a></li><li><a href="#sect-parachainhost-on-chain-votes" class="table-of-contents__link toc-highlight">C.9.16. <code>ParachainHost_on_chain_votes</code></a></li><li><a href="#sect-rt-api-pvfs-require-precheck" class="table-of-contents__link toc-highlight">C.9.17. <code>ParachainHost_pvfs_require_precheck</code></a></li><li><a href="#sect-rt-api-submit-pvf-check-statement" class="table-of-contents__link toc-highlight">C.9.18. <code>ParachainHost_submit_pvf_check_statement</code></a></li><li><a href="#sect-rt-api-disputes" class="table-of-contents__link toc-highlight">C.9.19. <code>ParachainHost_disputes</code></a></li><li><a href="#sect-rt-api-executor_params" class="table-of-contents__link toc-highlight">C.9.20. <code>ParachainHost_executor_params</code></a></li></ul></li><li><a href="#id-module-grandpaapi" class="table-of-contents__link toc-highlight">C.10. Module GrandpaApi</a><ul><li><a href="#sect-rte-grandpa-auth" class="table-of-contents__link toc-highlight">C.10.1. <code>GrandpaApi_grandpa_authorities</code></a></li><li><a href="#sect-grandpa-current-set-id" class="table-of-contents__link toc-highlight">C.10.2. <code>GrandpaApi_current_set_id</code></a></li><li><a href="#sect-grandpaapi_submit_report_equivocation_unsigned_extrinsic" class="table-of-contents__link toc-highlight">C.10.3. <code>GrandpaApi_submit_report_equivocation_unsigned_extrinsic</code></a></li><li><a href="#sect-grandpaapi_generate_key_ownership_proof" class="table-of-contents__link toc-highlight">C.10.4. <code>GrandpaApi_generate_key_ownership_proof</code></a></li></ul></li><li><a href="#id-module-babeapi" class="table-of-contents__link toc-highlight">C.11. Module BabeApi</a><ul><li><a href="#sect-rte-babeapi-epoch" class="table-of-contents__link toc-highlight">C.11.1. <code>BabeApi_configuration</code></a></li><li><a href="#id-babeapi_current_epoch_start" class="table-of-contents__link toc-highlight">C.11.2. <code>BabeApi_current_epoch_start</code></a></li><li><a href="#sect-babeapi_current_epoch" class="table-of-contents__link toc-highlight">C.11.3. <code>BabeApi_current_epoch</code></a></li><li><a href="#id-babeapi_next_epoch" class="table-of-contents__link toc-highlight">C.11.4. <code>BabeApi_next_epoch</code></a></li><li><a href="#sect-babeapi_generate_key_ownership_proof" class="table-of-contents__link toc-highlight">C.11.5. <code>BabeApi_generate_key_ownership_proof</code></a></li><li><a href="#sect-babeapi_submit_report_equivocation_unsigned_extrinsic" class="table-of-contents__link toc-highlight">C.11.6. <code>BabeApi_submit_report_equivocation_unsigned_extrinsic</code></a></li></ul></li><li><a href="#id-module-authoritydiscoveryapi" class="table-of-contents__link toc-highlight">C.12. Module AuthorityDiscoveryApi</a><ul><li><a href="#id-authoritydiscoveryapi_authorities" class="table-of-contents__link toc-highlight">C.12.1. <code>AuthorityDiscoveryApi_authorities</code></a></li></ul></li><li><a href="#sect-runtime-sessionkeys-module" class="table-of-contents__link toc-highlight">C.13. Module SessionKeys</a><ul><li><a href="#id-sessionkeys_generate_session_keys" class="table-of-contents__link toc-highlight">C.13.1. <code>SessionKeys_generate_session_keys</code></a></li><li><a href="#id-sessionkeys_decode_session_keys" class="table-of-contents__link toc-highlight">C.13.2. <code>SessionKeys_decode_session_keys</code></a></li></ul></li><li><a href="#id-module-accountnonceapi" class="table-of-contents__link toc-highlight">C.14. Module AccountNonceApi</a><ul><li><a href="#sect-accountnonceapi-account-nonce" class="table-of-contents__link toc-highlight">C.14.1. <code>AccountNonceApi_account_nonce</code></a></li></ul></li><li><a href="#sect-runtime-transactionpaymentapi-module" class="table-of-contents__link toc-highlight">C.15. Module TransactionPaymentApi</a><ul><li><a href="#sect-rte-transactionpaymentapi-query-info" class="table-of-contents__link toc-highlight">C.15.1. <code>TransactionPaymentApi_query_info</code></a></li><li><a href="#sect-rte-transactionpaymentapi-query-fee-details" class="table-of-contents__link toc-highlight">C.15.2. <code>TransactionPaymentApi_query_fee_details</code></a></li></ul></li><li><a href="#sect-runtime-transactionpaymentcallapi-module" class="table-of-contents__link toc-highlight">C.16. Module TransactionPaymentCallApi</a><ul><li><a href="#sect-rte-transactionpaymentcallapi-query-call-info" class="table-of-contents__link toc-highlight">C.16.1. <code>TransactionPaymentCallApi_query_call_info</code></a></li><li><a href="#sect-rte-transactionpaymentcallapi-query-call-fee-details" class="table-of-contents__link toc-highlight">C.16.2. <code>TransactionPaymentCallApi_query_call_fee_details</code></a></li></ul></li><li><a href="#id-module-nomination-pools" class="table-of-contents__link toc-highlight">C.17. Module Nomination Pools</a><ul><li><a href="#sect-nominationpoolsapi-pending-rewards" class="table-of-contents__link toc-highlight">C.17.1. <code>NominationPoolsApi_pending_rewards</code></a></li><li><a href="#sect-nominationpoolsapi-points-to-balance" class="table-of-contents__link toc-highlight">C.17.2. <code>NominationPoolsApi_points_to_balance</code></a></li><li><a href="#sect-nominationpoolsapi-balance-to-points" class="table-of-contents__link toc-highlight">C.17.3. <code>NominationPoolsApi_balance_to_points</code></a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">More Info</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/w3f/polkadot-spec" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://web3.foundation/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/Support Docs/privacy_policy">Privacy Policy</a></li><li class="footer__item"><a href="https://web3.foundation/legal-disclosures/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Legal Disclosures</a></li></ul></div><div class="col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/Web3foundation" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2024 Web3 Foundation</div></div></div></footer></div>
<script>!function(){var t,n;t=history.pushState,n=history.replaceState,history.pushState=function(){t.apply(history,arguments),window.dispatchEvent(new Event("pushstate")),window.dispatchEvent(new Event("locationchange"))},history.replaceState=function(){n.apply(history,arguments),window.dispatchEvent(new Event("replacestate")),window.dispatchEvent(new Event("locationchange"))},window.addEventListener("popstate",(function(){window.dispatchEvent(new Event("locationchange"))}))}()</script>
<script>!function(n,i){var t="",a="",e=function(){(a=window.location.href.split("#")[0])!==t&&(t=a,setTimeout(n,500))};window.addEventListener("load",e),window.addEventListener("locationchange",e)}((function(){document.querySelectorAll("svg.graphviz").forEach((function(n){if(!n.classList.contains("fixed")){var i=n.firstElementChild.querySelector("path");i&&i.remove();var t=Array.from(n.children).reduce((function(n,i){var t=i.getBBox(),a=t.x,e=t.y,o=t.width,c=t.height;return(!n.xMin||a<n.xMin)&&(n.xMin=a),(!n.xMax||a+o>n.xMax)&&(n.xMax=a+o),(!n.yMin||e<n.yMin)&&(n.yMin=e),(!n.yMax||e+c>n.yMax)&&(n.yMax=e+c),n}),{xMin:0,xMax:0,yMin:0,yMax:0}),a=t.xMin,e=t.xMax,o=t.yMin,c=t.yMax,x="".concat(a," ").concat(o," ").concat(e-a," ").concat(c-o);n.setAttribute("viewBox",x),n.classList.add("fixed")}}))}))</script>
<script>!function(n,e){var t="",a="",i=function(){(a=window.location.href.split("#")[0])!==t&&(t=a,setTimeout(n,500))};window.addEventListener("load",i),window.addEventListener("locationchange",i)}((function(){for(var n=document.getElementsByClassName("csl-right-inline"),e=0;e<n.length;e++){var t=n[e],a=t.innerHTML;a=a.replace(/(?<!href="|<a href=")(https?:\/\/[^\s]+)(?<!:)/g,'<a href="$1" target="_blank">$1</a>'),t.innerHTML=a}}))</script>
<script>!function(e,n){var a="",i="",o=function(){(i=window.location.href.split("#")[0])!==a&&(a=i,setTimeout(e,500))};window.addEventListener("load",o),window.addEventListener("locationchange",o)}((function(){var e,n=null===(e=document.getElementsByClassName("theme-doc-markdown markdown")[0])||void 0===e?void 0:e.children;if(n&&"H1"===n[0].children[0].tagName&&n[0].children[0].innerHTML.toLowerCase().includes("glossary"))for(var a=0;a<n.length;a++)"P"===n[a].tagName&&n[a].classList.add("glossary-term"),"UL"===n[a].tagName&&n[a].classList.add("glossary-definition")}))</script>
<script>!function(n,e){var t="",o="",i=function(){(o=window.location.href.split("#")[0])!==t&&(t=o,setTimeout(n,500))};window.addEventListener("load",i),window.addEventListener("locationchange",i)}((function(){for(var n=document.getElementsByClassName("ps-keyword"),e=0;e<n.length;e++){var t=n[e],o=t.innerHTML;o=o.replace(/(\d+)/g,""),t.innerHTML=o}}))</script>

<script>!function(){var t="https://spec.polkadot.network/";fetch("/entitiesMap.json").then((function(n){return n.text().then((function(n){var o=JSON.parse(n),c=window.location.href;if(c.startsWith("".concat(t,"#"))){var a=c.split("#")[1],e=o[a];e&&window.location.replace("".concat(t).concat(e,"#").concat(a))}}))}))}()</script>
<script>!function(e,n){var a="",t="",i=function(){(t=window.location.href.split("#")[0])!==a&&(a=t,setTimeout(e,0))};window.addEventListener("load",i),window.addEventListener("locationchange",i)}((function(){var e=document.getElementsByClassName("breadcrumbs")[0];if(e){var n=e.children[1].children[0],a=("A"===n.tagName?n.children[0]:n).innerHTML,t=document.getElementsByClassName("navbar__items--right")[0].querySelectorAll('a[aria-current="page"]'),i="navbar__link--active";t.forEach((function(e){e.innerHTML!=a?e.classList.remove(i):e.classList.contains(i)||e.classList.add(i)}))}}))</script></body>
</html>